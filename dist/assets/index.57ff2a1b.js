import{aV as ce,aW as Z,b as ne,aX as lt,aY as Rr,aZ as Xi,a_ as S0}from"./index.e5cbe13c.js";import{e as Mc,p as E0,t as W,h as x0}from"./hooks.module.e631b5c8.js";function C0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var na,Vu;function R0(){return Vu||(Vu=1,na=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),na}var I0=de;de.Node=wr;de.create=de;function de(t){var e=this;if(e instanceof de||(e=new de),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}de.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};de.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};de.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};de.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)O0(this,arguments[t]);return this.length};de.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)T0(this,arguments[t]);return this.length};de.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};de.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};de.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};de.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};de.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};de.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};de.prototype.map=function(t,e){e=e||this;for(var r=new de,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};de.prototype.mapReverse=function(t,e){e=e||this;for(var r=new de,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};de.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};de.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};de.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};de.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};de.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};de.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};de.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=A0(this,i,r[n]);return s};de.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function A0(t,e,r){var n=e===t.head?new wr(r,null,e,t):new wr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function O0(t,e){t.tail=new wr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function T0(t,e){t.head=new wr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function wr(t,e,r,n){if(!(this instanceof wr))return new wr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{R0()(de)}catch{}const M0=I0,fr=Symbol("max"),Bt=Symbol("length"),Pr=Symbol("lengthCalculator"),Pn=Symbol("allowStale"),br=Symbol("maxAge"),Dt=Symbol("dispose"),Hu=Symbol("noDisposeOnSet"),Me=Symbol("lruList"),gt=Symbol("cache"),uh=Symbol("updateAgeOnGet"),ia=()=>1;class k0{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[fr]=e.max||1/0;const r=e.length||ia;if(this[Pr]=typeof r!="function"?ia:r,this[Pn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[br]=e.maxAge||0,this[Dt]=e.dispose,this[Hu]=e.noDisposeOnSet||!1,this[uh]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[fr]=e||1/0,In(this)}get max(){return this[fr]}set allowStale(e){this[Pn]=!!e}get allowStale(){return this[Pn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[br]=e,In(this)}get maxAge(){return this[br]}set lengthCalculator(e){typeof e!="function"&&(e=ia),e!==this[Pr]&&(this[Pr]=e,this[Bt]=0,this[Me].forEach(r=>{r.length=this[Pr](r.value,r.key),this[Bt]+=r.length})),In(this)}get lengthCalculator(){return this[Pr]}get length(){return this[Bt]}get itemCount(){return this[Me].length}rforEach(e,r){r=r||this;for(let n=this[Me].tail;n!==null;){const i=n.prev;zu(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Me].head;n!==null;){const i=n.next;zu(this,e,n,r),n=i}}keys(){return this[Me].toArray().map(e=>e.key)}values(){return this[Me].toArray().map(e=>e.value)}reset(){this[Dt]&&this[Me]&&this[Me].length&&this[Me].forEach(e=>this[Dt](e.key,e.value)),this[gt]=new Map,this[Me]=new M0,this[Bt]=0}dump(){return this[Me].map(e=>Fi(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Me]}set(e,r,n){if(n=n||this[br],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Pr](r,e);if(this[gt].has(e)){if(s>this[fr])return zr(this,this[gt].get(e)),!1;const c=this[gt].get(e).value;return this[Dt]&&(this[Hu]||this[Dt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Bt]+=s-c.length,c.length=s,this.get(e),In(this),!0}const o=new N0(e,r,s,i,n);return o.length>this[fr]?(this[Dt]&&this[Dt](e,r),!1):(this[Bt]+=o.length,this[Me].unshift(o),this[gt].set(e,this[Me].head),In(this),!0)}has(e){if(!this[gt].has(e))return!1;const r=this[gt].get(e).value;return!Fi(this,r)}get(e){return sa(this,e,!0)}peek(e){return sa(this,e,!1)}pop(){const e=this[Me].tail;return e?(zr(this,e),e.value):null}del(e){zr(this,this[gt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[gt].forEach((e,r)=>sa(this,r,!1))}}const sa=(t,e,r)=>{const n=t[gt].get(e);if(n){const i=n.value;if(Fi(t,i)){if(zr(t,n),!t[Pn])return}else r&&(t[uh]&&(n.value.now=Date.now()),t[Me].unshiftNode(n));return i.value}},Fi=(t,e)=>{if(!e||!e.maxAge&&!t[br])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[br]&&r>t[br]},In=t=>{if(t[Bt]>t[fr])for(let e=t[Me].tail;t[Bt]>t[fr]&&e!==null;){const r=e.prev;zr(t,e),e=r}},zr=(t,e)=>{if(e){const r=e.value;t[Dt]&&t[Dt](r.key,r.value),t[Bt]-=r.length,t[gt].delete(r.key),t[Me].removeNode(e)}};class N0{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const zu=(t,e,r,n)=>{let i=r.value;Fi(t,i)&&(zr(t,r),t[Pn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var L0=k0;const P0=Object.freeze({loose:!0}),j0=Object.freeze({}),D0=t=>t?typeof t!="object"?P0:t:j0;var kc=D0,_r={exports:{}};const $0="2.0.0",B0=256,F0=Number.MAX_SAFE_INTEGER||9007199254740991,W0=16,U0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var es={MAX_LENGTH:B0,MAX_SAFE_COMPONENT_LENGTH:W0,MAX_SAFE_INTEGER:F0,RELEASE_TYPES:U0,SEMVER_SPEC_VERSION:$0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const V0=typeof ce.exports=="object"&&{}&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var ts=V0;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=es,n=ts;e=t.exports={};const i=e.re=[],s=e.src=[],o=e.t={};let a=0;const c=(u,l,h)=>{const f=a++;n(u,f,l),o[u]=f,s[f]=l,i[f]=new RegExp(l,h?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),c("FULL",`^${s[o.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),c("LOOSE",`^${s[o.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),c("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",s[o.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(_r,_r.exports);const qu=/^[0-9]+$/,lh=(t,e)=>{const r=qu.test(t),n=qu.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},H0=(t,e)=>lh(e,t);var fh={compareIdentifiers:lh,rcompareIdentifiers:H0};const yi=ts,{MAX_LENGTH:Gu,MAX_SAFE_INTEGER:vi}=es,{re:Ju,t:Qu}=_r.exports,z0=kc,{compareIdentifiers:jr}=fh;class yt{constructor(e,r){if(r=z0(r),e instanceof yt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Gu)throw new TypeError(`version is longer than ${Gu} characters`);yi("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Ju[Qu.LOOSE]:Ju[Qu.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>vi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<vi)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(yi("SemVer.compare",this.version,this.options,e),!(e instanceof yt)){if(typeof e=="string"&&e===this.version)return 0;e=new yt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof yt||(e=new yt(e,this.options)),jr(this.major,e.major)||jr(this.minor,e.minor)||jr(this.patch,e.patch)}comparePre(e){if(e instanceof yt||(e=new yt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(yi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jr(n,i)}while(++r)}compareBuild(e){e instanceof yt||(e=new yt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(yi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),jr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var Qe=yt;const Zu=Qe,q0=(t,e,r)=>new Zu(t,r).compare(new Zu(e,r));var wt=q0;const G0=wt,J0=(t,e,r)=>G0(t,e,r)===0;var hh=J0;const Q0=wt,Z0=(t,e,r)=>Q0(t,e,r)!==0;var dh=Z0;const Y0=wt,K0=(t,e,r)=>Y0(t,e,r)>0;var rs=K0;const X0=wt,eb=(t,e,r)=>X0(t,e,r)>=0;var Nc=eb;const tb=wt,rb=(t,e,r)=>tb(t,e,r)<0;var Lc=rb;const nb=wt,ib=(t,e,r)=>nb(t,e,r)<=0;var Pc=ib;const sb=hh,ob=dh,ab=rs,cb=Nc,ub=Lc,lb=Pc,fb=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return sb(t,r,n);case"!=":return ob(t,r,n);case">":return ab(t,r,n);case">=":return cb(t,r,n);case"<":return ub(t,r,n);case"<=":return lb(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var ph=fb,oa,Yu;function ns(){if(Yu)return oa;Yu=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,h){if(h=r(h),l instanceof e){if(l.loose===!!h.loose)return l;l=l.value}o("comparator",l,h),this.options=h,this.loose=!!h.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const h=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],f=l.match(h);if(!f)throw new TypeError(`Invalid comparator: ${l}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,h){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,h).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,h).test(l.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,h)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,h)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}oa=e;const r=kc,{re:n,t:i}=_r.exports,s=ph,o=ts,a=Qe,c=_t();return oa}var aa,Ku;function _t(){if(Ku)return aa;Ku=1;class t{constructor(M,V){if(V=n(V),M instanceof t)return M.loose===!!V.loose&&M.includePrerelease===!!V.includePrerelease?M:new t(M.raw,V);if(M instanceof i)return this.raw=M.value,this.set=[[M]],this.format(),this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=M,this.set=M.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${M}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(m=>!_(m[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const m of this.set)if(m.length===1&&O(m[0])){this.set=[m];break}}}this.format()}format(){return this.range=this.set.map(M=>M.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(M){M=M.trim();const H=((this.options.includePrerelease&&f)|(this.options.loose&&b))+":"+M,m=r.get(H);if(m)return m;const w=this.options.loose,x=w?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];M=M.replace(x,ie(this.options.includePrerelease)),s("hyphen replace",M),M=M.replace(a[c.COMPARATORTRIM],u),s("comparator trim",M),M=M.replace(a[c.TILDETRIM],l),M=M.replace(a[c.CARETTRIM],h),M=M.split(/\s+/).join(" ");let k=M.split(" ").map(A=>E(A,this.options)).join(" ").split(/\s+/).map(A=>Y(A,this.options));w&&(k=k.filter(A=>(s("loose invalid filter",A,this.options),!!A.match(a[c.COMPARATORLOOSE])))),s("range list",k);const P=new Map,g=k.map(A=>new i(A,this.options));for(const A of g){if(_(A))return[A];P.set(A.value,A)}P.size>1&&P.has("")&&P.delete("");const S=[...P.values()];return r.set(H,S),S}intersects(M,V){if(!(M instanceof t))throw new TypeError("a Range is required");return this.set.some(H=>R(H,V)&&M.set.some(m=>R(m,V)&&H.every(w=>m.every(x=>w.intersects(x,V)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new o(M,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(K(this.set[V],M,this.options))return!0;return!1}}aa=t;const e=L0,r=new e({max:1e3}),n=kc,i=ns(),s=ts,o=Qe,{re:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:h}=_r.exports,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:b}=es,_=$=>$.value==="<0.0.0-0",O=$=>$.value==="",R=($,M)=>{let V=!0;const H=$.slice();let m=H.pop();for(;V&&H.length;)V=H.every(w=>m.intersects(w,M)),m=H.pop();return V},E=($,M)=>(s("comp",$,M),$=L($,M),s("caret",$),$=I($,M),s("tildes",$),$=J($,M),s("xrange",$),$=U($,M),s("stars",$),$),C=$=>!$||$.toLowerCase()==="x"||$==="*",I=($,M)=>$.trim().split(/\s+/).map(V=>N(V,M)).join(" "),N=($,M)=>{const V=M.loose?a[c.TILDELOOSE]:a[c.TILDE];return $.replace(V,(H,m,w,x,k)=>{s("tilde",$,H,m,w,x,k);let P;return C(m)?P="":C(w)?P=`>=${m}.0.0 <${+m+1}.0.0-0`:C(x)?P=`>=${m}.${w}.0 <${m}.${+w+1}.0-0`:k?(s("replaceTilde pr",k),P=`>=${m}.${w}.${x}-${k} <${m}.${+w+1}.0-0`):P=`>=${m}.${w}.${x} <${m}.${+w+1}.0-0`,s("tilde return",P),P})},L=($,M)=>$.trim().split(/\s+/).map(V=>F(V,M)).join(" "),F=($,M)=>{s("caret",$,M);const V=M.loose?a[c.CARETLOOSE]:a[c.CARET],H=M.includePrerelease?"-0":"";return $.replace(V,(m,w,x,k,P)=>{s("caret",$,m,w,x,k,P);let g;return C(w)?g="":C(x)?g=`>=${w}.0.0${H} <${+w+1}.0.0-0`:C(k)?w==="0"?g=`>=${w}.${x}.0${H} <${w}.${+x+1}.0-0`:g=`>=${w}.${x}.0${H} <${+w+1}.0.0-0`:P?(s("replaceCaret pr",P),w==="0"?x==="0"?g=`>=${w}.${x}.${k}-${P} <${w}.${x}.${+k+1}-0`:g=`>=${w}.${x}.${k}-${P} <${w}.${+x+1}.0-0`:g=`>=${w}.${x}.${k}-${P} <${+w+1}.0.0-0`):(s("no pr"),w==="0"?x==="0"?g=`>=${w}.${x}.${k}${H} <${w}.${x}.${+k+1}-0`:g=`>=${w}.${x}.${k}${H} <${w}.${+x+1}.0-0`:g=`>=${w}.${x}.${k} <${+w+1}.0.0-0`),s("caret return",g),g})},J=($,M)=>(s("replaceXRanges",$,M),$.split(/\s+/).map(V=>G(V,M)).join(" ")),G=($,M)=>{$=$.trim();const V=M.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return $.replace(V,(H,m,w,x,k,P)=>{s("xRange",$,H,m,w,x,k,P);const g=C(w),S=g||C(x),A=S||C(k),Q=A;return m==="="&&Q&&(m=""),P=M.includePrerelease?"-0":"",g?m===">"||m==="<"?H="<0.0.0-0":H="*":m&&Q?(S&&(x=0),k=0,m===">"?(m=">=",S?(w=+w+1,x=0,k=0):(x=+x+1,k=0)):m==="<="&&(m="<",S?w=+w+1:x=+x+1),m==="<"&&(P="-0"),H=`${m+w}.${x}.${k}${P}`):S?H=`>=${w}.0.0${P} <${+w+1}.0.0-0`:A&&(H=`>=${w}.${x}.0${P} <${w}.${+x+1}.0-0`),s("xRange return",H),H})},U=($,M)=>(s("replaceStars",$,M),$.trim().replace(a[c.STAR],"")),Y=($,M)=>(s("replaceGTE0",$,M),$.trim().replace(a[M.includePrerelease?c.GTE0PRE:c.GTE0],"")),ie=$=>(M,V,H,m,w,x,k,P,g,S,A,Q,y)=>(C(H)?V="":C(m)?V=`>=${H}.0.0${$?"-0":""}`:C(w)?V=`>=${H}.${m}.0${$?"-0":""}`:x?V=`>=${V}`:V=`>=${V}${$?"-0":""}`,C(g)?P="":C(S)?P=`<${+g+1}.0.0-0`:C(A)?P=`<${g}.${+S+1}.0-0`:Q?P=`<=${g}.${S}.${A}-${Q}`:$?P=`<${g}.${S}.${+A+1}-0`:P=`<=${P}`,`${V} ${P}`.trim()),K=($,M,V)=>{for(let H=0;H<$.length;H++)if(!$[H].test(M))return!1;if(M.prerelease.length&&!V.includePrerelease){for(let H=0;H<$.length;H++)if(s($[H].semver),$[H].semver!==i.ANY&&$[H].semver.prerelease.length>0){const m=$[H].semver;if(m.major===M.major&&m.minor===M.minor&&m.patch===M.patch)return!0}return!1}return!0};return aa}const hb=_t(),db=(t,e,r)=>{try{e=new hb(e,r)}catch{return!1}return e.test(t)};var is=db,jc={},bh={},gh=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},pb=gh,ss=function(){return pb()&&!!Symbol.toStringTag},Xu=typeof Symbol<"u"&&Symbol,bb=gh,gb=function(){return typeof Xu!="function"||typeof Symbol!="function"||typeof Xu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:bb()},el={foo:{}},yb=Object,vb=function(){return{__proto__:el}.foo===el.foo&&!({__proto__:null}instanceof yb)},ca,tl;function mb(){if(tl)return ca;tl=1;var t="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,r=Object.prototype.toString,n="[object Function]";return ca=function(s){var o=this;if(typeof o!="function"||r.call(o)!==n)throw new TypeError(t+o);for(var a=e.call(arguments,1),c,u=function(){if(this instanceof c){var _=o.apply(this,a.concat(e.call(arguments)));return Object(_)===_?_:this}else return o.apply(s,a.concat(e.call(arguments)))},l=Math.max(0,o.length-a.length),h=[],f=0;f<l;f++)h.push("$"+f);if(c=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var b=function(){};b.prototype=o.prototype,c.prototype=new b,b.prototype=null}return c},ca}var ua,rl;function Dc(){if(rl)return ua;rl=1;var t=mb();return ua=Function.prototype.bind||t,ua}var wb=Dc(),_b=wb.call(Function.call,Object.prototype.hasOwnProperty),le,Yr=SyntaxError,yh=Function,qr=TypeError,la=function(t){try{return yh('"use strict"; return ('+t+").constructor;")()}catch{}},vr=Object.getOwnPropertyDescriptor;if(vr)try{vr({},"")}catch{vr=null}var fa=function(){throw new qr},Sb=vr?function(){try{return arguments.callee,fa}catch{try{return vr(arguments,"callee").get}catch{return fa}}}():fa,Dr=gb(),Eb=vb(),Ne=Object.getPrototypeOf||(Eb?function(t){return t.__proto__}:null),Fr={},xb=typeof Uint8Array>"u"||!Ne?le:Ne(Uint8Array),mr={"%AggregateError%":typeof AggregateError>"u"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?le:ArrayBuffer,"%ArrayIteratorPrototype%":Dr&&Ne?Ne([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":Fr,"%AsyncGenerator%":Fr,"%AsyncGeneratorFunction%":Fr,"%AsyncIteratorPrototype%":Fr,"%Atomics%":typeof Atomics>"u"?le:Atomics,"%BigInt%":typeof BigInt>"u"?le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?le:FinalizationRegistry,"%Function%":yh,"%GeneratorFunction%":Fr,"%Int8Array%":typeof Int8Array>"u"?le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dr&&Ne?Ne(Ne([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map>"u"?le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Dr||!Ne?le:Ne(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?le:Promise,"%Proxy%":typeof Proxy>"u"?le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Dr||!Ne?le:Ne(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dr&&Ne?Ne(""[Symbol.iterator]()):le,"%Symbol%":Dr?Symbol:le,"%SyntaxError%":Yr,"%ThrowTypeError%":Sb,"%TypedArray%":xb,"%TypeError%":qr,"%Uint8Array%":typeof Uint8Array>"u"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?le:WeakSet};if(Ne)try{null.error}catch(t){var Cb=Ne(Ne(t));mr["%Error.prototype%"]=Cb}var Rb=function t(e){var r;if(e==="%AsyncFunction%")r=la("async function () {}");else if(e==="%GeneratorFunction%")r=la("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=la("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ne&&(r=Ne(i.prototype))}return mr[e]=r,r},nl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jn=Dc(),Wi=_b,Ib=Jn.call(Function.call,Array.prototype.concat),Ab=Jn.call(Function.apply,Array.prototype.splice),il=Jn.call(Function.call,String.prototype.replace),Ui=Jn.call(Function.call,String.prototype.slice),Ob=Jn.call(Function.call,RegExp.prototype.exec),Tb=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Mb=/\\(\\)?/g,kb=function(e){var r=Ui(e,0,1),n=Ui(e,-1);if(r==="%"&&n!=="%")throw new Yr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Yr("invalid intrinsic syntax, expected opening `%`");var i=[];return il(e,Tb,function(s,o,a,c){i[i.length]=a?il(c,Mb,"$1"):o||s}),i},Nb=function(e,r){var n=e,i;if(Wi(nl,n)&&(i=nl[n],n="%"+i[0]+"%"),Wi(mr,n)){var s=mr[n];if(s===Fr&&(s=Rb(n)),typeof s>"u"&&!r)throw new qr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Yr("intrinsic "+e+" does not exist!")},os=function(e,r){if(typeof e!="string"||e.length===0)throw new qr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new qr('"allowMissing" argument must be a boolean');if(Ob(/^%?[^%]*%?$/,e)===null)throw new Yr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=kb(e),i=n.length>0?n[0]:"",s=Nb("%"+i+"%",r),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],Ab(n,Ib([0,1],u)));for(var l=1,h=!0;l<n.length;l+=1){var f=n[l],b=Ui(f,0,1),_=Ui(f,-1);if((b==='"'||b==="'"||b==="`"||_==='"'||_==="'"||_==="`")&&b!==_)throw new Yr("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",Wi(mr,o))a=mr[o];else if(a!=null){if(!(f in a)){if(!r)throw new qr("base intrinsic for "+e+" exists, but the property is not available.");return}if(vr&&l+1>=n.length){var O=vr(a,f);h=!!O,h&&"get"in O&&!("originalValue"in O.get)?a=O.get:a=a[f]}else h=Wi(a,f),a=a[f];h&&!c&&(mr[o]=a)}}return a},ha={exports:{}},sl;function Lb(){return sl||(sl=1,function(t){var e=Dc(),r=os,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(h){var f=s(e,i,arguments);if(o&&a){var b=o(f,"length");b.configurable&&a(f,"length",{value:1+c(0,h.length-(arguments.length-1))})}return f};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u}(ha)),ha.exports}var vh=os,mh=Lb(),Pb=mh(vh("String.prototype.indexOf")),as=function(e,r){var n=vh(e,!!r);return typeof n=="function"&&Pb(e,".prototype.")>-1?mh(n):n},jb=ss(),Db=as,cc=Db("Object.prototype.toString"),cs=function(e){return jb&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:cc(e)==="[object Arguments]"},wh=function(e){return cs(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&cc(e)!=="[object Array]"&&cc(e.callee)==="[object Function]"},$b=function(){return cs(arguments)}();cs.isLegacyArguments=wh;var Bb=$b?cs:wh,Fb=Object.prototype.toString,Wb=Function.prototype.toString,Ub=/^\s*(?:function)?\*/,_h=ss(),da=Object.getPrototypeOf,Vb=function(){if(!_h)return!1;try{return Function("return function*() {}")()}catch{}},pa,Hb=function(e){if(typeof e!="function")return!1;if(Ub.test(Wb.call(e)))return!0;if(!_h){var r=Fb.call(e);return r==="[object GeneratorFunction]"}if(!da)return!1;if(typeof pa>"u"){var n=Vb();pa=n?da(n):!1}return da(e)===pa},Sh=Function.prototype.toString,Ur=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,uc,Ni;if(typeof Ur=="function"&&typeof Object.defineProperty=="function")try{uc=Object.defineProperty({},"length",{get:function(){throw Ni}}),Ni={},Ur(function(){throw 42},null,uc)}catch(t){t!==Ni&&(Ur=null)}else Ur=null;var zb=/^\s*class\b/,lc=function(e){try{var r=Sh.call(e);return zb.test(r)}catch{return!1}},ba=function(e){try{return lc(e)?!1:(Sh.call(e),!0)}catch{return!1}},Li=Object.prototype.toString,qb="[object Object]",Gb="[object Function]",Jb="[object GeneratorFunction]",Qb="[object HTMLAllCollection]",Zb="[object HTML document.all class]",Yb="[object HTMLCollection]",Kb=typeof Symbol=="function"&&!!Symbol.toStringTag,Xb=!(0 in[,]),fc=function(){return!1};if(typeof document=="object"){var eg=document.all;Li.call(eg)===Li.call(document.all)&&(fc=function(e){if((Xb||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Li.call(e);return(r===Qb||r===Zb||r===Yb||r===qb)&&e("")==null}catch{}return!1})}var tg=Ur?function(e){if(fc(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ur(e,null,uc)}catch(r){if(r!==Ni)return!1}return!lc(e)&&ba(e)}:function(e){if(fc(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Kb)return ba(e);if(lc(e))return!1;var r=Li.call(e);return r!==Gb&&r!==Jb&&!/^\[object HTML/.test(r)?!1:ba(e)},rg=tg,ng=Object.prototype.toString,Eh=Object.prototype.hasOwnProperty,ig=function(e,r,n){for(var i=0,s=e.length;i<s;i++)Eh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},sg=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},og=function(e,r,n){for(var i in e)Eh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},ag=function(e,r,n){if(!rg(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),ng.call(e)==="[object Array]"?ig(e,r,i):typeof e=="string"?sg(e,r,i):og(e,r,i)},xh=ag,ga=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],cg=typeof globalThis>"u"?Z:globalThis,Ch=function(){for(var e=[],r=0;r<ga.length;r++)typeof cg[ga[r]]=="function"&&(e[e.length]=ga[r]);return e},ug=os,Pi=ug("%Object.getOwnPropertyDescriptor%",!0);if(Pi)try{Pi([],"length")}catch{Pi=null}var Rh=Pi,Ih=xh,lg=Ch,$c=as,fg=$c("Object.prototype.toString"),Ah=ss(),ji=Rh,hg=typeof globalThis>"u"?Z:globalThis,Oh=lg(),dg=$c("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},pg=$c("String.prototype.slice"),Th={},ya=Object.getPrototypeOf;Ah&&ji&&ya&&Ih(Oh,function(t){var e=new hg[t];if(Symbol.toStringTag in e){var r=ya(e),n=ji(r,Symbol.toStringTag);if(!n){var i=ya(r);n=ji(i,Symbol.toStringTag)}Th[t]=n.get}});var bg=function(e){var r=!1;return Ih(Th,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},Mh=function(e){if(!e||typeof e!="object")return!1;if(!Ah||!(Symbol.toStringTag in e)){var r=pg(fg(e),8,-1);return dg(Oh,r)>-1}return ji?bg(e):!1},kh=xh,gg=Ch,Nh=as,va=Rh,yg=Nh("Object.prototype.toString"),Lh=ss(),ol=typeof globalThis>"u"?Z:globalThis,vg=gg(),mg=Nh("String.prototype.slice"),Ph={},ma=Object.getPrototypeOf;Lh&&va&&ma&&kh(vg,function(t){if(typeof ol[t]=="function"){var e=new ol[t];if(Symbol.toStringTag in e){var r=ma(e),n=va(r,Symbol.toStringTag);if(!n){var i=ma(r);n=va(i,Symbol.toStringTag)}Ph[t]=n.get}}});var wg=function(e){var r=!1;return kh(Ph,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},_g=Mh,Sg=function(e){return _g(e)?!Lh||!(Symbol.toStringTag in e)?mg(yg(e),8,-1):wg(e):!1};(function(t){var e=Bb,r=Hb,n=Sg,i=Mh;function s(D){return D.call.bind(D)}var o=typeof BigInt<"u",a=typeof Symbol<"u",c=s(Object.prototype.toString),u=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(o)var f=s(BigInt.prototype.valueOf);if(a)var b=s(Symbol.prototype.valueOf);function _(D,ar){if(typeof D!="object")return!1;try{return ar(D),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function O(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"}t.isPromise=O;function R(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):i(D)||S(D)}t.isArrayBufferView=R;function E(D){return n(D)==="Uint8Array"}t.isUint8Array=E;function C(D){return n(D)==="Uint8ClampedArray"}t.isUint8ClampedArray=C;function I(D){return n(D)==="Uint16Array"}t.isUint16Array=I;function N(D){return n(D)==="Uint32Array"}t.isUint32Array=N;function L(D){return n(D)==="Int8Array"}t.isInt8Array=L;function F(D){return n(D)==="Int16Array"}t.isInt16Array=F;function J(D){return n(D)==="Int32Array"}t.isInt32Array=J;function G(D){return n(D)==="Float32Array"}t.isFloat32Array=G;function U(D){return n(D)==="Float64Array"}t.isFloat64Array=U;function Y(D){return n(D)==="BigInt64Array"}t.isBigInt64Array=Y;function ie(D){return n(D)==="BigUint64Array"}t.isBigUint64Array=ie;function K(D){return c(D)==="[object Map]"}K.working=typeof Map<"u"&&K(new Map);function $(D){return typeof Map>"u"?!1:K.working?K(D):D instanceof Map}t.isMap=$;function M(D){return c(D)==="[object Set]"}M.working=typeof Set<"u"&&M(new Set);function V(D){return typeof Set>"u"?!1:M.working?M(D):D instanceof Set}t.isSet=V;function H(D){return c(D)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function m(D){return typeof WeakMap>"u"?!1:H.working?H(D):D instanceof WeakMap}t.isWeakMap=m;function w(D){return c(D)==="[object WeakSet]"}w.working=typeof WeakSet<"u"&&w(new WeakSet);function x(D){return w(D)}t.isWeakSet=x;function k(D){return c(D)==="[object ArrayBuffer]"}k.working=typeof ArrayBuffer<"u"&&k(new ArrayBuffer);function P(D){return typeof ArrayBuffer>"u"?!1:k.working?k(D):D instanceof ArrayBuffer}t.isArrayBuffer=P;function g(D){return c(D)==="[object DataView]"}g.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&g(new DataView(new ArrayBuffer(1),0,1));function S(D){return typeof DataView>"u"?!1:g.working?g(D):D instanceof DataView}t.isDataView=S;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Q(D){return c(D)==="[object SharedArrayBuffer]"}function y(D){return typeof A>"u"?!1:(typeof Q.working>"u"&&(Q.working=Q(new A)),Q.working?Q(D):D instanceof A)}t.isSharedArrayBuffer=y;function v(D){return c(D)==="[object AsyncFunction]"}t.isAsyncFunction=v;function T(D){return c(D)==="[object Map Iterator]"}t.isMapIterator=T;function B(D){return c(D)==="[object Set Iterator]"}t.isSetIterator=B;function q(D){return c(D)==="[object Generator]"}t.isGeneratorObject=q;function d(D){return c(D)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=d;function p(D){return _(D,u)}t.isNumberObject=p;function j(D){return _(D,l)}t.isStringObject=j;function z(D){return _(D,h)}t.isBooleanObject=z;function be(D){return o&&_(D,f)}t.isBigIntObject=be;function se(D){return a&&_(D,b)}t.isSymbolObject=se;function pe(D){return p(D)||j(D)||z(D)||be(D)||se(D)}t.isBoxedPrimitive=pe;function ht(D){return typeof Uint8Array<"u"&&(P(D)||y(D))}t.isAnyArrayBuffer=ht,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(t,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})})(bh);var Eg=function(e){return e instanceof ne.Buffer};(function(t){var e=Object.getOwnPropertyDescriptors||function(S){for(var A=Object.keys(S),Q={},y=0;y<A.length;y++)Q[A[y]]=Object.getOwnPropertyDescriptor(S,A[y]);return Q},r=/%[sdj%]/g;t.format=function(g){if(!L(g)){for(var S=[],A=0;A<arguments.length;A++)S.push(o(arguments[A]));return S.join(" ")}for(var A=1,Q=arguments,y=Q.length,v=String(g).replace(r,function(B){if(B==="%%")return"%";if(A>=y)return B;switch(B){case"%s":return String(Q[A++]);case"%d":return Number(Q[A++]);case"%j":try{return JSON.stringify(Q[A++])}catch{return"[Circular]"}default:return B}}),T=Q[A];A<y;T=Q[++A])C(T)||!U(T)?v+=" "+T:v+=" "+o(T);return v},t.deprecate=function(g,S){if(typeof ce.exports<"u"&&ce.exports.noDeprecation===!0)return g;if(typeof ce.exports>"u")return function(){return t.deprecate(g,S).apply(this,arguments)};var A=!1;function Q(){if(!A){if(ce.exports.throwDeprecation)throw new Error(S);ce.exports.traceDeprecation?console.trace(S):console.error(S),A=!0}return g.apply(this,arguments)}return Q};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(g){if(g=g.toUpperCase(),!n[g])if(i.test(g)){var S=ce.exports.pid;n[g]=function(){var A=t.format.apply(t,arguments);console.error("%s %d: %s",g,S,A)}}else n[g]=function(){};return n[g]};function o(g,S){var A={seen:[],stylize:c};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),E(S)?A.showHidden=S:S&&t._extend(A,S),J(A.showHidden)&&(A.showHidden=!1),J(A.depth)&&(A.depth=2),J(A.colors)&&(A.colors=!1),J(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=a),l(A,g,A.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(g,S){var A=o.styles[S];return A?"\x1B["+o.colors[A][0]+"m"+g+"\x1B["+o.colors[A][1]+"m":g}function c(g,S){return g}function u(g){var S={};return g.forEach(function(A,Q){S[A]=!0}),S}function l(g,S,A){if(g.customInspect&&S&&K(S.inspect)&&S.inspect!==t.inspect&&!(S.constructor&&S.constructor.prototype===S)){var Q=S.inspect(A,g);return L(Q)||(Q=l(g,Q,A)),Q}var y=h(g,S);if(y)return y;var v=Object.keys(S),T=u(v);if(g.showHidden&&(v=Object.getOwnPropertyNames(S)),ie(S)&&(v.indexOf("message")>=0||v.indexOf("description")>=0))return f(S);if(v.length===0){if(K(S)){var B=S.name?": "+S.name:"";return g.stylize("[Function"+B+"]","special")}if(G(S))return g.stylize(RegExp.prototype.toString.call(S),"regexp");if(Y(S))return g.stylize(Date.prototype.toString.call(S),"date");if(ie(S))return f(S)}var q="",d=!1,p=["{","}"];if(R(S)&&(d=!0,p=["[","]"]),K(S)){var j=S.name?": "+S.name:"";q=" [Function"+j+"]"}if(G(S)&&(q=" "+RegExp.prototype.toString.call(S)),Y(S)&&(q=" "+Date.prototype.toUTCString.call(S)),ie(S)&&(q=" "+f(S)),v.length===0&&(!d||S.length==0))return p[0]+q+p[1];if(A<0)return G(S)?g.stylize(RegExp.prototype.toString.call(S),"regexp"):g.stylize("[Object]","special");g.seen.push(S);var z;return d?z=b(g,S,A,T,v):z=v.map(function(be){return _(g,S,A,T,be,d)}),g.seen.pop(),O(z,q,p)}function h(g,S){if(J(S))return g.stylize("undefined","undefined");if(L(S)){var A="'"+JSON.stringify(S).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g.stylize(A,"string")}if(N(S))return g.stylize(""+S,"number");if(E(S))return g.stylize(""+S,"boolean");if(C(S))return g.stylize("null","null")}function f(g){return"["+Error.prototype.toString.call(g)+"]"}function b(g,S,A,Q,y){for(var v=[],T=0,B=S.length;T<B;++T)w(S,String(T))?v.push(_(g,S,A,Q,String(T),!0)):v.push("");return y.forEach(function(q){q.match(/^\d+$/)||v.push(_(g,S,A,Q,q,!0))}),v}function _(g,S,A,Q,y,v){var T,B,q;if(q=Object.getOwnPropertyDescriptor(S,y)||{value:S[y]},q.get?q.set?B=g.stylize("[Getter/Setter]","special"):B=g.stylize("[Getter]","special"):q.set&&(B=g.stylize("[Setter]","special")),w(Q,y)||(T="["+y+"]"),B||(g.seen.indexOf(q.value)<0?(C(A)?B=l(g,q.value,null):B=l(g,q.value,A-1),B.indexOf(`
`)>-1&&(v?B=B.split(`
`).map(function(d){return"  "+d}).join(`
`).slice(2):B=`
`+B.split(`
`).map(function(d){return"   "+d}).join(`
`))):B=g.stylize("[Circular]","special")),J(T)){if(v&&y.match(/^\d+$/))return B;T=JSON.stringify(""+y),T.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(T=T.slice(1,-1),T=g.stylize(T,"name")):(T=T.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),T=g.stylize(T,"string"))}return T+": "+B}function O(g,S,A){var Q=g.reduce(function(y,v){return v.indexOf(`
`)>=0,y+v.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?A[0]+(S===""?"":S+`
 `)+" "+g.join(`,
  `)+" "+A[1]:A[0]+S+" "+g.join(", ")+" "+A[1]}t.types=bh;function R(g){return Array.isArray(g)}t.isArray=R;function E(g){return typeof g=="boolean"}t.isBoolean=E;function C(g){return g===null}t.isNull=C;function I(g){return g==null}t.isNullOrUndefined=I;function N(g){return typeof g=="number"}t.isNumber=N;function L(g){return typeof g=="string"}t.isString=L;function F(g){return typeof g=="symbol"}t.isSymbol=F;function J(g){return g===void 0}t.isUndefined=J;function G(g){return U(g)&&M(g)==="[object RegExp]"}t.isRegExp=G,t.types.isRegExp=G;function U(g){return typeof g=="object"&&g!==null}t.isObject=U;function Y(g){return U(g)&&M(g)==="[object Date]"}t.isDate=Y,t.types.isDate=Y;function ie(g){return U(g)&&(M(g)==="[object Error]"||g instanceof Error)}t.isError=ie,t.types.isNativeError=ie;function K(g){return typeof g=="function"}t.isFunction=K;function $(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||typeof g=="symbol"||typeof g>"u"}t.isPrimitive=$,t.isBuffer=Eg;function M(g){return Object.prototype.toString.call(g)}function V(g){return g<10?"0"+g.toString(10):g.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function m(){var g=new Date,S=[V(g.getHours()),V(g.getMinutes()),V(g.getSeconds())].join(":");return[g.getDate(),H[g.getMonth()],S].join(" ")}t.log=function(){console.log("%s - %s",m(),t.format.apply(t,arguments))},t.inherits=lt.exports,t._extend=function(g,S){if(!S||!U(S))return g;for(var A=Object.keys(S),Q=A.length;Q--;)g[A[Q]]=S[A[Q]];return g};function w(g,S){return Object.prototype.hasOwnProperty.call(g,S)}var x=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');if(x&&S[x]){var A=S[x];if(typeof A!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(A,x,{value:A,enumerable:!1,writable:!1,configurable:!0}),A}function A(){for(var Q,y,v=new Promise(function(q,d){Q=q,y=d}),T=[],B=0;B<arguments.length;B++)T.push(arguments[B]);T.push(function(q,d){q?y(q):Q(d)});try{S.apply(this,T)}catch(q){y(q)}return v}return Object.setPrototypeOf(A,Object.getPrototypeOf(S)),x&&Object.defineProperty(A,x,{value:A,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(A,e(S))},t.promisify.custom=x;function k(g,S){if(!g){var A=new Error("Promise was rejected with a falsy value");A.reason=g,g=A}return S(g)}function P(g){if(typeof g!="function")throw new TypeError('The "original" argument must be of type Function');function S(){for(var A=[],Q=0;Q<arguments.length;Q++)A.push(arguments[Q]);var y=A.pop();if(typeof y!="function")throw new TypeError("The last argument must be of type Function");var v=this,T=function(){return y.apply(v,arguments)};g.apply(this,A).then(function(B){ce.exports.nextTick(T.bind(null,null,B))},function(B){ce.exports.nextTick(k.bind(null,B,T))})}return Object.setPrototypeOf(S,Object.getPrototypeOf(g)),Object.defineProperties(S,e(g)),S}t.callbackify=P})(jc);var Lt={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=ne,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Lt,Lt.exports);var mi={exports:{}},wa,al;function jh(){return al||(al=1,wa=Mc.exports.EventEmitter),wa}var _a,cl;function xg(){if(cl)return _a;cl=1;function t(_,O){var R=Object.keys(_);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(_);O&&(E=E.filter(function(C){return Object.getOwnPropertyDescriptor(_,C).enumerable})),R.push.apply(R,E)}return R}function e(_){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?t(Object(R),!0).forEach(function(E){r(_,E,R[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(R)):t(Object(R)).forEach(function(E){Object.defineProperty(_,E,Object.getOwnPropertyDescriptor(R,E))})}return _}function r(_,O,R){return O=o(O),O in _?Object.defineProperty(_,O,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[O]=R,_}function n(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function i(_,O){for(var R=0;R<O.length;R++){var E=O[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,o(E.key),E)}}function s(_,O,R){return O&&i(_.prototype,O),R&&i(_,R),Object.defineProperty(_,"prototype",{writable:!1}),_}function o(_){var O=a(_,"string");return typeof O=="symbol"?O:String(O)}function a(_,O){if(typeof _!="object"||_===null)return _;var R=_[Symbol.toPrimitive];if(R!==void 0){var E=R.call(_,O||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(_)}var c=ne,u=c.Buffer,l=jc,h=l.inspect,f=h&&h.custom||"inspect";function b(_,O,R){u.prototype.copy.call(_,O,R)}return _a=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return s(_,[{key:"push",value:function(R){var E={data:R,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(R){var E={data:R,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var E=this.head,C=""+E.data;E=E.next;)C+=R+E.data;return C}},{key:"concat",value:function(R){if(this.length===0)return u.alloc(0);for(var E=u.allocUnsafe(R>>>0),C=this.head,I=0;C;)b(C.data,E,I),I+=C.data.length,C=C.next;return E}},{key:"consume",value:function(R,E){var C;return R<this.head.data.length?(C=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?C=this.shift():C=E?this._getString(R):this._getBuffer(R),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var E=this.head,C=1,I=E.data;for(R-=I.length;E=E.next;){var N=E.data,L=R>N.length?N.length:R;if(L===N.length?I+=N:I+=N.slice(0,R),R-=L,R===0){L===N.length?(++C,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=N.slice(L));break}++C}return this.length-=C,I}},{key:"_getBuffer",value:function(R){var E=u.allocUnsafe(R),C=this.head,I=1;for(C.data.copy(E),R-=C.data.length;C=C.next;){var N=C.data,L=R>N.length?N.length:R;if(N.copy(E,E.length-R,0,L),R-=L,R===0){L===N.length?(++I,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=N.slice(L));break}++I}return this.length-=I,E}},{key:f,value:function(R,E){return h(this,e(e({},E),{},{depth:0,customInspect:!1}))}}]),_}(),_a}var Sa,ul;function Dh(){if(ul)return Sa;ul=1;function t(o,a){var c=this,u=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return u||l?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ce.exports.nextTick(i,this,o)):ce.exports.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!a&&h?c._writableState?c._writableState.errorEmitted?ce.exports.nextTick(r,c):(c._writableState.errorEmitted=!0,ce.exports.nextTick(e,c,h)):ce.exports.nextTick(e,c,h):a?(ce.exports.nextTick(r,c),a(h)):ce.exports.nextTick(r,c)}),this)}function e(o,a){i(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(a):o.emit("error",a)}return Sa={destroy:t,undestroy:n,errorOrDestroy:s},Sa}var Ea={},ll;function hn(){if(ll)return Ea;ll=1;function t(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var e={};function r(a,c,u){u||(u=Error);function l(f,b,_){return typeof c=="string"?c:c(f,b,_)}var h=function(f){t(b,f);function b(_,O,R){return f.call(this,l(_,O,R))||this}return b}(u);h.prototype.name=u.name,h.prototype.code=a,e[a]=h}function n(a,c){if(Array.isArray(a)){var u=a.length;return a=a.map(function(l){return String(l)}),u>2?"one of ".concat(c," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(c," ").concat(a[0]," or ").concat(a[1]):"of ".concat(c," ").concat(a[0])}else return"of ".concat(c," ").concat(String(a))}function i(a,c,u){return a.substr(!u||u<0?0:+u,c.length)===c}function s(a,c,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-c.length,u)===c}function o(a,c,u){return typeof u!="number"&&(u=0),u+c.length>a.length?!1:a.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,c){return'The value "'+c+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,c,u){var l;typeof c=="string"&&i(c,"not ")?(l="must not be",c=c.replace(/^not /,"")):l="must be";var h;if(s(a," argument"))h="The ".concat(a," ").concat(l," ").concat(n(c,"type"));else{var f=o(a,".")?"property":"argument";h='The "'.concat(a,'" ').concat(f," ").concat(l," ").concat(n(c,"type"))}return h+=". Received type ".concat(typeof u),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ea.codes=e,Ea}var xa,fl;function $h(){if(fl)return xa;fl=1;var t=hn().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var c=o?s:"highWaterMark";throw new t(c,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return xa={getHighWaterMark:r},xa}var Ca,hl;function Cg(){if(hl)return Ca;hl=1,Ca=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Z.localStorage)return!1}catch{return!1}var n=Z.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Ca}var Ra,dl;function Bh(){if(dl)return Ra;dl=1,Ra=G;function t(y){var v=this;this.next=null,this.entry=null,this.finish=function(){Q(v,y)}}var e;G.WritableState=F;var r={deprecate:Cg()},n=jh(),i=ne.Buffer,s=(typeof Z<"u"?Z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(y){return i.from(y)}function a(y){return i.isBuffer(y)||y instanceof s}var c=Dh(),u=$h(),l=u.getHighWaterMark,h=hn().codes,f=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,O=h.ERR_STREAM_CANNOT_PIPE,R=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,C=h.ERR_STREAM_WRITE_AFTER_END,I=h.ERR_UNKNOWN_ENCODING,N=c.errorOrDestroy;lt.exports(G,n);function L(){}function F(y,v,T){e=e||Kr(),y=y||{},typeof T!="boolean"&&(T=v instanceof e),this.objectMode=!!y.objectMode,T&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=l(this,y,"writableHighWaterMark",T),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=y.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){H(v,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}F.prototype.getBuffer=function(){for(var v=this.bufferedRequest,T=[];v;)T.push(v),v=v.next;return T},function(){try{Object.defineProperty(F.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(v){return J.call(this,v)?!0:this!==G?!1:v&&v._writableState instanceof F}})):J=function(v){return v instanceof this};function G(y){e=e||Kr();var v=this instanceof e;if(!v&&!J.call(G,this))return new G(y);this._writableState=new F(y,this,v),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),n.call(this)}G.prototype.pipe=function(){N(this,new O)};function U(y,v){var T=new C;N(y,T),ce.exports.nextTick(v,T)}function Y(y,v,T,B){var q;return T===null?q=new E:typeof T!="string"&&!v.objectMode&&(q=new f("chunk",["string","Buffer"],T)),q?(N(y,q),ce.exports.nextTick(B,q),!1):!0}G.prototype.write=function(y,v,T){var B=this._writableState,q=!1,d=!B.objectMode&&a(y);return d&&!i.isBuffer(y)&&(y=o(y)),typeof v=="function"&&(T=v,v=null),d?v="buffer":v||(v=B.defaultEncoding),typeof T!="function"&&(T=L),B.ending?U(this,T):(d||Y(this,B,y,T))&&(B.pendingcb++,q=K(this,B,d,y,v,T)),q},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&x(this,y))},G.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new I(v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(y,v,T){return!y.objectMode&&y.decodeStrings!==!1&&typeof v=="string"&&(v=i.from(v,T)),v}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(y,v,T,B,q,d){if(!T){var p=ie(v,B,q);B!==p&&(T=!0,q="buffer",B=p)}var j=v.objectMode?1:B.length;v.length+=j;var z=v.length<v.highWaterMark;if(z||(v.needDrain=!0),v.writing||v.corked){var be=v.lastBufferedRequest;v.lastBufferedRequest={chunk:B,encoding:q,isBuf:T,callback:d,next:null},be?be.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else $(y,v,!1,j,B,q,d);return z}function $(y,v,T,B,q,d,p){v.writelen=B,v.writecb=p,v.writing=!0,v.sync=!0,v.destroyed?v.onwrite(new R("write")):T?y._writev(q,v.onwrite):y._write(q,d,v.onwrite),v.sync=!1}function M(y,v,T,B,q){--v.pendingcb,T?(ce.exports.nextTick(q,B),ce.exports.nextTick(S,y,v),y._writableState.errorEmitted=!0,N(y,B)):(q(B),y._writableState.errorEmitted=!0,N(y,B),S(y,v))}function V(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}function H(y,v){var T=y._writableState,B=T.sync,q=T.writecb;if(typeof q!="function")throw new _;if(V(T),v)M(y,T,B,v,q);else{var d=k(T)||y.destroyed;!d&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&x(y,T),B?ce.exports.nextTick(m,y,T,d,q):m(y,T,d,q)}}function m(y,v,T,B){T||w(y,v),v.pendingcb--,B(),S(y,v)}function w(y,v){v.length===0&&v.needDrain&&(v.needDrain=!1,y.emit("drain"))}function x(y,v){v.bufferProcessing=!0;var T=v.bufferedRequest;if(y._writev&&T&&T.next){var B=v.bufferedRequestCount,q=new Array(B),d=v.corkedRequestsFree;d.entry=T;for(var p=0,j=!0;T;)q[p]=T,T.isBuf||(j=!1),T=T.next,p+=1;q.allBuffers=j,$(y,v,!0,v.length,q,"",d.finish),v.pendingcb++,v.lastBufferedRequest=null,d.next?(v.corkedRequestsFree=d.next,d.next=null):v.corkedRequestsFree=new t(v),v.bufferedRequestCount=0}else{for(;T;){var z=T.chunk,be=T.encoding,se=T.callback,pe=v.objectMode?1:z.length;if($(y,v,!1,pe,z,be,se),T=T.next,v.bufferedRequestCount--,v.writing)break}T===null&&(v.lastBufferedRequest=null)}v.bufferedRequest=T,v.bufferProcessing=!1}G.prototype._write=function(y,v,T){T(new b("_write()"))},G.prototype._writev=null,G.prototype.end=function(y,v,T){var B=this._writableState;return typeof y=="function"?(T=y,y=null,v=null):typeof v=="function"&&(T=v,v=null),y!=null&&this.write(y,v),B.corked&&(B.corked=1,this.uncork()),B.ending||A(this,B,T),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function P(y,v){y._final(function(T){v.pendingcb--,T&&N(y,T),v.prefinished=!0,y.emit("prefinish"),S(y,v)})}function g(y,v){!v.prefinished&&!v.finalCalled&&(typeof y._final=="function"&&!v.destroyed?(v.pendingcb++,v.finalCalled=!0,ce.exports.nextTick(P,y,v)):(v.prefinished=!0,y.emit("prefinish")))}function S(y,v){var T=k(v);if(T&&(g(y,v),v.pendingcb===0&&(v.finished=!0,y.emit("finish"),v.autoDestroy))){var B=y._readableState;(!B||B.autoDestroy&&B.endEmitted)&&y.destroy()}return T}function A(y,v,T){v.ending=!0,S(y,v),T&&(v.finished?ce.exports.nextTick(T):y.once("finish",T)),v.ended=!0,y.writable=!1}function Q(y,v,T){var B=y.entry;for(y.entry=null;B;){var q=B.callback;v.pendingcb--,q(T),B=B.next}v.corkedRequestsFree.next=y}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(v){!this._writableState||(this._writableState.destroyed=v)}}),G.prototype.destroy=c.destroy,G.prototype._undestroy=c.undestroy,G.prototype._destroy=function(y,v){v(y)},Ra}var Ia,pl;function Kr(){if(pl)return Ia;pl=1;var t=Object.keys||function(u){var l=[];for(var h in u)l.push(h);return l};Ia=o;var e=Fh(),r=Bh();lt.exports(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||ce.exports.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Ia}var hc={},Bc=Lt.exports.Buffer,bl=Bc.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Rg(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Ig(t){var e=Rg(t);if(typeof e!="string"&&(Bc.isEncoding===bl||!bl(t)))throw new Error("Unknown encoding: "+t);return e||t}hc.StringDecoder=Qn;function Qn(t){this.encoding=Ig(t);var e;switch(this.encoding){case"utf16le":this.text=Ng,this.end=Lg,e=4;break;case"utf8":this.fillLast=Tg,e=4;break;case"base64":this.text=Pg,this.end=jg,e=3;break;default:this.write=Dg,this.end=$g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Bc.allocUnsafe(e)}Qn.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Qn.prototype.end=kg;Qn.prototype.text=Mg;Qn.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Aa(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Ag(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Aa(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Aa(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Aa(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Og(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Tg(t){var e=this.lastTotal-this.lastNeed,r=Og(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Mg(t,e){var r=Ag(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function kg(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Ng(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Lg(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Pg(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function jg(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Dg(t){return t.toString(this.encoding)}function $g(t){return t&&t.length?this.write(t):""}var Oa,gl;function Fc(){if(gl)return Oa;gl=1;var t=hn().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||r);var c=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,l=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){u=!1,h=!0,c||a.call(s)},b=s._readableState&&s._readableState.endEmitted,_=function(){c=!1,b=!0,u||a.call(s)},O=function(I){a.call(s,I)},R=function(){var I;if(c&&!b)return(!s._readableState||!s._readableState.ended)&&(I=new t),a.call(s,I);if(u&&!h)return(!s._writableState||!s._writableState.ended)&&(I=new t),a.call(s,I)},E=function(){s.req.on("finish",f)};return n(s)?(s.on("complete",f),s.on("abort",R),s.req?E():s.on("request",E)):u&&!s._writableState&&(s.on("end",l),s.on("close",l)),s.on("end",_),s.on("finish",f),o.error!==!1&&s.on("error",O),s.on("close",R),function(){s.removeListener("complete",f),s.removeListener("abort",R),s.removeListener("request",E),s.req&&s.req.removeListener("finish",f),s.removeListener("end",l),s.removeListener("close",l),s.removeListener("finish",f),s.removeListener("end",_),s.removeListener("error",O),s.removeListener("close",R)}}return Oa=i,Oa}var Ta,yl;function Bg(){if(yl)return Ta;yl=1;var t;function e(I,N,L){return N=r(N),N in I?Object.defineProperty(I,N,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[N]=L,I}function r(I){var N=n(I,"string");return typeof N=="symbol"?N:String(N)}function n(I,N){if(typeof I!="object"||I===null)return I;var L=I[Symbol.toPrimitive];if(L!==void 0){var F=L.call(I,N||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(I)}var i=Fc(),s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),h=Symbol("stream");function f(I,N){return{value:I,done:N}}function b(I){var N=I[s];if(N!==null){var L=I[h].read();L!==null&&(I[u]=null,I[s]=null,I[o]=null,N(f(L,!1)))}}function _(I){ce.exports.nextTick(b,I)}function O(I,N){return function(L,F){I.then(function(){if(N[c]){L(f(void 0,!0));return}N[l](L,F)},F)}}var R=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var N=this,L=this[a];if(L!==null)return Promise.reject(L);if(this[c])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(U,Y){ce.exports.nextTick(function(){N[a]?Y(N[a]):U(f(void 0,!0))})});var F=this[u],J;if(F)J=new Promise(O(F,this));else{var G=this[h].read();if(G!==null)return Promise.resolve(f(G,!1));J=new Promise(this[l])}return this[u]=J,J}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var N=this;return new Promise(function(L,F){N[h].destroy(null,function(J){if(J){F(J);return}L(f(void 0,!0))})})}),t),R),C=function(N){var L,F=Object.create(E,(L={},e(L,h,{value:N,writable:!0}),e(L,s,{value:null,writable:!0}),e(L,o,{value:null,writable:!0}),e(L,a,{value:null,writable:!0}),e(L,c,{value:N._readableState.endEmitted,writable:!0}),e(L,l,{value:function(G,U){var Y=F[h].read();Y?(F[u]=null,F[s]=null,F[o]=null,G(f(Y,!1))):(F[s]=G,F[o]=U)},writable:!0}),L));return F[u]=null,i(N,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=F[o];G!==null&&(F[u]=null,F[s]=null,F[o]=null,G(J)),F[a]=J;return}var U=F[s];U!==null&&(F[u]=null,F[s]=null,F[o]=null,U(f(void 0,!0))),F[c]=!0}),N.on("readable",_.bind(null,F)),F};return Ta=C,Ta}var Ma,vl;function Fg(){return vl||(vl=1,Ma=function(){throw new Error("Readable.from is not available in the browser")}),Ma}var ka,ml;function Fh(){if(ml)return ka;ml=1,ka=U;var t;U.ReadableState=G,Mc.exports.EventEmitter;var e=function(p,j){return p.listeners(j).length},r=jh(),n=ne.Buffer,i=(typeof Z<"u"?Z:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(d){return n.from(d)}function o(d){return n.isBuffer(d)||d instanceof i}var a=jc,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=xg(),l=Dh(),h=$h(),f=h.getHighWaterMark,b=hn().codes,_=b.ERR_INVALID_ARG_TYPE,O=b.ERR_STREAM_PUSH_AFTER_EOF,R=b.ERR_METHOD_NOT_IMPLEMENTED,E=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,I,N;lt.exports(U,r);var L=l.errorOrDestroy,F=["error","close","destroy","pause","resume"];function J(d,p,j){if(typeof d.prependListener=="function")return d.prependListener(p,j);!d._events||!d._events[p]?d.on(p,j):Array.isArray(d._events[p])?d._events[p].unshift(j):d._events[p]=[j,d._events[p]]}function G(d,p,j){t=t||Kr(),d=d||{},typeof j!="boolean"&&(j=p instanceof t),this.objectMode=!!d.objectMode,j&&(this.objectMode=this.objectMode||!!d.readableObjectMode),this.highWaterMark=f(this,d,"readableHighWaterMark",j),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=d.emitClose!==!1,this.autoDestroy=!!d.autoDestroy,this.destroyed=!1,this.defaultEncoding=d.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,d.encoding&&(C||(C=hc.StringDecoder),this.decoder=new C(d.encoding),this.encoding=d.encoding)}function U(d){if(t=t||Kr(),!(this instanceof U))return new U(d);var p=this instanceof t;this._readableState=new G(d,this,p),this.readable=!0,d&&(typeof d.read=="function"&&(this._read=d.read),typeof d.destroy=="function"&&(this._destroy=d.destroy)),r.call(this)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(p){!this._readableState||(this._readableState.destroyed=p)}}),U.prototype.destroy=l.destroy,U.prototype._undestroy=l.undestroy,U.prototype._destroy=function(d,p){p(d)},U.prototype.push=function(d,p){var j=this._readableState,z;return j.objectMode?z=!0:typeof d=="string"&&(p=p||j.defaultEncoding,p!==j.encoding&&(d=n.from(d,p),p=""),z=!0),Y(this,d,p,!1,z)},U.prototype.unshift=function(d){return Y(this,d,null,!0,!1)};function Y(d,p,j,z,be){c("readableAddChunk",p);var se=d._readableState;if(p===null)se.reading=!1,H(d,se);else{var pe;if(be||(pe=K(se,p)),pe)L(d,pe);else if(se.objectMode||p&&p.length>0)if(typeof p!="string"&&!se.objectMode&&Object.getPrototypeOf(p)!==n.prototype&&(p=s(p)),z)se.endEmitted?L(d,new E):ie(d,se,p,!0);else if(se.ended)L(d,new O);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!j?(p=se.decoder.write(p),se.objectMode||p.length!==0?ie(d,se,p,!1):x(d,se)):ie(d,se,p,!1)}else z||(se.reading=!1,x(d,se))}return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function ie(d,p,j,z){p.flowing&&p.length===0&&!p.sync?(p.awaitDrain=0,d.emit("data",j)):(p.length+=p.objectMode?1:j.length,z?p.buffer.unshift(j):p.buffer.push(j),p.needReadable&&m(d)),x(d,p)}function K(d,p){var j;return!o(p)&&typeof p!="string"&&p!==void 0&&!d.objectMode&&(j=new _("chunk",["string","Buffer","Uint8Array"],p)),j}U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(d){C||(C=hc.StringDecoder);var p=new C(d);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;for(var j=this._readableState.buffer.head,z="";j!==null;)z+=p.write(j.data),j=j.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var $=1073741824;function M(d){return d>=$?d=$:(d--,d|=d>>>1,d|=d>>>2,d|=d>>>4,d|=d>>>8,d|=d>>>16,d++),d}function V(d,p){return d<=0||p.length===0&&p.ended?0:p.objectMode?1:d!==d?p.flowing&&p.length?p.buffer.head.data.length:p.length:(d>p.highWaterMark&&(p.highWaterMark=M(d)),d<=p.length?d:p.ended?p.length:(p.needReadable=!0,0))}U.prototype.read=function(d){c("read",d),d=parseInt(d,10);var p=this._readableState,j=d;if(d!==0&&(p.emittedReadable=!1),d===0&&p.needReadable&&((p.highWaterMark!==0?p.length>=p.highWaterMark:p.length>0)||p.ended))return c("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?T(this):m(this),null;if(d=V(d,p),d===0&&p.ended)return p.length===0&&T(this),null;var z=p.needReadable;c("need readable",z),(p.length===0||p.length-d<p.highWaterMark)&&(z=!0,c("length less than watermark",z)),p.ended||p.reading?(z=!1,c("reading or ended",z)):z&&(c("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0),this._read(p.highWaterMark),p.sync=!1,p.reading||(d=V(j,p)));var be;return d>0?be=v(d,p):be=null,be===null?(p.needReadable=p.length<=p.highWaterMark,d=0):(p.length-=d,p.awaitDrain=0),p.length===0&&(p.ended||(p.needReadable=!0),j!==d&&p.ended&&T(this)),be!==null&&this.emit("data",be),be};function H(d,p){if(c("onEofChunk"),!p.ended){if(p.decoder){var j=p.decoder.end();j&&j.length&&(p.buffer.push(j),p.length+=p.objectMode?1:j.length)}p.ended=!0,p.sync?m(d):(p.needReadable=!1,p.emittedReadable||(p.emittedReadable=!0,w(d)))}}function m(d){var p=d._readableState;c("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(c("emitReadable",p.flowing),p.emittedReadable=!0,ce.exports.nextTick(w,d))}function w(d){var p=d._readableState;c("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&(p.length||p.ended)&&(d.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,y(d)}function x(d,p){p.readingMore||(p.readingMore=!0,ce.exports.nextTick(k,d,p))}function k(d,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){var j=p.length;if(c("maybeReadMore read 0"),d.read(0),j===p.length)break}p.readingMore=!1}U.prototype._read=function(d){L(this,new R("_read()"))},U.prototype.pipe=function(d,p){var j=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=d;break;case 1:z.pipes=[z.pipes,d];break;default:z.pipes.push(d);break}z.pipesCount+=1,c("pipe count=%d opts=%j",z.pipesCount,p);var be=(!p||p.end!==!1)&&d!==ce.exports.stdout&&d!==ce.exports.stderr,se=be?ht:Ht;z.endEmitted?ce.exports.nextTick(se):j.once("end",se),d.on("unpipe",pe);function pe(jt,St){c("onunpipe"),jt===j&&St&&St.hasUnpiped===!1&&(St.hasUnpiped=!0,Cn())}function ht(){c("onend"),d.end()}var D=P(j);d.on("drain",D);var ar=!1;function Cn(){c("cleanup"),d.removeListener("close",Nr),d.removeListener("finish",Lr),d.removeListener("drain",D),d.removeListener("error",kr),d.removeListener("unpipe",pe),j.removeListener("end",ht),j.removeListener("end",Ht),j.removeListener("data",Rn),ar=!0,z.awaitDrain&&(!d._writableState||d._writableState.needDrain)&&D()}j.on("data",Rn);function Rn(jt){c("ondata");var St=d.write(jt);c("dest.write",St),St===!1&&((z.pipesCount===1&&z.pipes===d||z.pipesCount>1&&q(z.pipes,d)!==-1)&&!ar&&(c("false write response, pause",z.awaitDrain),z.awaitDrain++),j.pause())}function kr(jt){c("onerror",jt),Ht(),d.removeListener("error",kr),e(d,"error")===0&&L(d,jt)}J(d,"error",kr);function Nr(){d.removeListener("finish",Lr),Ht()}d.once("close",Nr);function Lr(){c("onfinish"),d.removeListener("close",Nr),Ht()}d.once("finish",Lr);function Ht(){c("unpipe"),j.unpipe(d)}return d.emit("pipe",j),z.flowing||(c("pipe resume"),j.resume()),d};function P(d){return function(){var j=d._readableState;c("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&e(d,"data")&&(j.flowing=!0,y(d))}}U.prototype.unpipe=function(d){var p=this._readableState,j={hasUnpiped:!1};if(p.pipesCount===0)return this;if(p.pipesCount===1)return d&&d!==p.pipes?this:(d||(d=p.pipes),p.pipes=null,p.pipesCount=0,p.flowing=!1,d&&d.emit("unpipe",this,j),this);if(!d){var z=p.pipes,be=p.pipesCount;p.pipes=null,p.pipesCount=0,p.flowing=!1;for(var se=0;se<be;se++)z[se].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=q(p.pipes,d);return pe===-1?this:(p.pipes.splice(pe,1),p.pipesCount-=1,p.pipesCount===1&&(p.pipes=p.pipes[0]),d.emit("unpipe",this,j),this)},U.prototype.on=function(d,p){var j=r.prototype.on.call(this,d,p),z=this._readableState;return d==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):d==="readable"&&!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,c("on readable",z.length,z.reading),z.length?m(this):z.reading||ce.exports.nextTick(S,this)),j},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(d,p){var j=r.prototype.removeListener.call(this,d,p);return d==="readable"&&ce.exports.nextTick(g,this),j},U.prototype.removeAllListeners=function(d){var p=r.prototype.removeAllListeners.apply(this,arguments);return(d==="readable"||d===void 0)&&ce.exports.nextTick(g,this),p};function g(d){var p=d._readableState;p.readableListening=d.listenerCount("readable")>0,p.resumeScheduled&&!p.paused?p.flowing=!0:d.listenerCount("data")>0&&d.resume()}function S(d){c("readable nexttick read 0"),d.read(0)}U.prototype.resume=function(){var d=this._readableState;return d.flowing||(c("resume"),d.flowing=!d.readableListening,A(this,d)),d.paused=!1,this};function A(d,p){p.resumeScheduled||(p.resumeScheduled=!0,ce.exports.nextTick(Q,d,p))}function Q(d,p){c("resume",p.reading),p.reading||d.read(0),p.resumeScheduled=!1,d.emit("resume"),y(d),p.flowing&&!p.reading&&d.read(0)}U.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function y(d){var p=d._readableState;for(c("flow",p.flowing);p.flowing&&d.read()!==null;);}U.prototype.wrap=function(d){var p=this,j=this._readableState,z=!1;d.on("end",function(){if(c("wrapped end"),j.decoder&&!j.ended){var pe=j.decoder.end();pe&&pe.length&&p.push(pe)}p.push(null)}),d.on("data",function(pe){if(c("wrapped data"),j.decoder&&(pe=j.decoder.write(pe)),!(j.objectMode&&pe==null)&&!(!j.objectMode&&(!pe||!pe.length))){var ht=p.push(pe);ht||(z=!0,d.pause())}});for(var be in d)this[be]===void 0&&typeof d[be]=="function"&&(this[be]=function(ht){return function(){return d[ht].apply(d,arguments)}}(be));for(var se=0;se<F.length;se++)d.on(F[se],this.emit.bind(this,F[se]));return this._read=function(pe){c("wrapped _read",pe),z&&(z=!1,d.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return I===void 0&&(I=Bg()),I(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}}),U._fromList=v,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function v(d,p){if(p.length===0)return null;var j;return p.objectMode?j=p.buffer.shift():!d||d>=p.length?(p.decoder?j=p.buffer.join(""):p.buffer.length===1?j=p.buffer.first():j=p.buffer.concat(p.length),p.buffer.clear()):j=p.buffer.consume(d,p.decoder),j}function T(d){var p=d._readableState;c("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,ce.exports.nextTick(B,p,d))}function B(d,p){if(c("endReadableNT",d.endEmitted,d.length),!d.endEmitted&&d.length===0&&(d.endEmitted=!0,p.readable=!1,p.emit("end"),d.autoDestroy)){var j=p._writableState;(!j||j.autoDestroy&&j.finished)&&p.destroy()}}typeof Symbol=="function"&&(U.from=function(d,p){return N===void 0&&(N=Fg()),N(U,d,p)});function q(d,p){for(var j=0,z=d.length;j<z;j++)if(d[j]===p)return j;return-1}return ka}var Na,wl;function Wh(){if(wl)return Na;wl=1,Na=a;var t=hn().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=Kr();lt.exports(a,s);function o(l,h){var f=this._transformState;f.transforming=!1;var b=f.writecb;if(b===null)return this.emit("error",new r);f.writechunk=null,f.writecb=null,h!=null&&this.push(h),b(l);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function a(l){if(!(this instanceof a))return new a(l);s.call(this,l),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",c)}function c(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,f){u(l,h,f)}):u(this,null,null)}a.prototype.push=function(l,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,l,h)},a.prototype._transform=function(l,h,f){f(new e("_transform()"))},a.prototype._write=function(l,h,f){var b=this._transformState;if(b.writecb=f,b.writechunk=l,b.writeencoding=h,!b.transforming){var _=this._readableState;(b.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},a.prototype._read=function(l){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(l,h){s.prototype._destroy.call(this,l,function(f){h(f)})};function u(l,h,f){if(h)return l.emit("error",h);if(f!=null&&l.push(f),l._writableState.length)throw new i;if(l._transformState.transforming)throw new n;return l.push(null)}return Na}var La,_l;function Wg(){if(_l)return La;_l=1,La=e;var t=Wh();lt.exports(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},La}var Pa,Sl;function Ug(){if(Sl)return Pa;Sl=1;var t;function e(f){var b=!1;return function(){b||(b=!0,f.apply(void 0,arguments))}}var r=hn().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function o(f){return f.setHeader&&typeof f.abort=="function"}function a(f,b,_,O){O=e(O);var R=!1;f.on("close",function(){R=!0}),t===void 0&&(t=Fc()),t(f,{readable:b,writable:_},function(C){if(C)return O(C);R=!0,O()});var E=!1;return function(C){if(!R&&!E){if(E=!0,o(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();O(C||new i("pipe"))}}}function c(f){f()}function u(f,b){return f.pipe(b)}function l(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function h(){for(var f=arguments.length,b=new Array(f),_=0;_<f;_++)b[_]=arguments[_];var O=l(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new n("streams");var R,E=b.map(function(C,I){var N=I<b.length-1,L=I>0;return a(C,N,L,function(F){R||(R=F),F&&E.forEach(c),!N&&(E.forEach(c),O(R))})});return b.reduce(u)}return Pa=h,Pa}var El;function Uh(){return El||(El=1,function(t,e){e=t.exports=Fh(),e.Stream=e,e.Readable=e,e.Writable=Bh(),e.Duplex=Kr(),e.Transform=Wh(),e.PassThrough=Wg(),e.finished=Fc(),e.pipeline=Ug()}(mi,mi.exports)),mi.exports}var Vh={exports:{}},Hh=Lt.exports.Buffer;function us(t,e){this._block=Hh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}us.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Hh.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),u=0;u<c;u++)r[a+u]=t[o+u];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};us.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};us.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var dn=us,Vg=lt.exports,zh=dn,Hg=Lt.exports.Buffer,zg=[1518500249,1859775393,-1894007588,-899497514],qg=new Array(80);function Zn(){this.init(),this._w=qg,zh.call(this,64,56)}Vg(Zn,zh);Zn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Gg(t){return t<<5|t>>>27}function Jg(t){return t<<30|t>>>2}function Qg(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Zn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=Gg(r)+Qg(u,n,i,s)+o+e[c]+zg[u]|0;o=s,s=i,i=Jg(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Zn.prototype._hash=function(){var t=Hg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Zg=Zn,Yg=lt.exports,qh=dn,Kg=Lt.exports.Buffer,Xg=[1518500249,1859775393,-1894007588,-899497514],ey=new Array(80);function Yn(){this.init(),this._w=ey,qh.call(this,64,56)}Yg(Yn,qh);Yn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ty(t){return t<<1|t>>>31}function ry(t){return t<<5|t>>>27}function ny(t){return t<<30|t>>>2}function iy(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Yn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=ty(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=ry(r)+iy(u,n,i,s)+o+e[c]+Xg[u]|0;o=s,s=i,i=ny(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Yn.prototype._hash=function(){var t=Kg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var sy=Yn,oy=lt.exports,Gh=dn,ay=Lt.exports.Buffer,cy=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],uy=new Array(64);function Kn(){this.init(),this._w=uy,Gh.call(this,64,56)}oy(Kn,Gh);Kn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ly(t,e,r){return r^t&(e^r)}function fy(t,e,r){return t&e|r&(t|e)}function hy(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function dy(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function py(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function by(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Kn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=by(e[l-2])+e[l-7]+py(e[l-15])+e[l-16]|0;for(var h=0;h<64;++h){var f=u+dy(o)+ly(o,a,c)+cy[h]+e[h]|0,b=hy(r)+fy(r,n,i)|0;u=c,c=a,a=o,o=s+f|0,s=i,i=n,n=r,r=f+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};Kn.prototype._hash=function(){var t=ay.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Jh=Kn,gy=lt.exports,yy=Jh,vy=dn,my=Lt.exports.Buffer,wy=new Array(64);function ls(){this.init(),this._w=wy,vy.call(this,64,56)}gy(ls,yy);ls.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ls.prototype._hash=function(){var t=my.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var _y=ls,Sy=lt.exports,Qh=dn,Ey=Lt.exports.Buffer,xl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],xy=new Array(160);function Xn(){this.init(),this._w=xy,Qh.call(this,128,112)}Sy(Xn,Qh);Xn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Cl(t,e,r){return r^t&(e^r)}function Rl(t,e,r){return t&e|r&(t|e)}function Il(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Al(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Cy(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Ry(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Iy(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Ay(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Oe(t,e){return t>>>0<e>>>0?1:0}Xn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,h=this._bl|0,f=this._cl|0,b=this._dl|0,_=this._el|0,O=this._fl|0,R=this._gl|0,E=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var I=e[C-30],N=e[C-15*2+1],L=Cy(I,N),F=Ry(N,I);I=e[C-2*2],N=e[C-2*2+1];var J=Iy(I,N),G=Ay(N,I),U=e[C-7*2],Y=e[C-7*2+1],ie=e[C-16*2],K=e[C-16*2+1],$=F+Y|0,M=L+U+Oe($,F)|0;$=$+G|0,M=M+J+Oe($,G)|0,$=$+K|0,M=M+ie+Oe($,K)|0,e[C]=M,e[C+1]=$}for(var V=0;V<160;V+=2){M=e[V],$=e[V+1];var H=Rl(r,n,i),m=Rl(l,h,f),w=Il(r,l),x=Il(l,r),k=Al(o,_),P=Al(_,o),g=xl[V],S=xl[V+1],A=Cl(o,a,c),Q=Cl(_,O,R),y=E+P|0,v=u+k+Oe(y,E)|0;y=y+Q|0,v=v+A+Oe(y,Q)|0,y=y+S|0,v=v+g+Oe(y,S)|0,y=y+$|0,v=v+M+Oe(y,$)|0;var T=x+m|0,B=w+H+Oe(T,x)|0;u=c,E=R,c=a,R=O,a=o,O=_,_=b+y|0,o=s+v+Oe(_,b)|0,s=i,b=f,i=n,f=h,n=r,h=l,l=y+T|0,r=v+B+Oe(l,y)|0}this._al=this._al+l|0,this._bl=this._bl+h|0,this._cl=this._cl+f|0,this._dl=this._dl+b|0,this._el=this._el+_|0,this._fl=this._fl+O|0,this._gl=this._gl+R|0,this._hl=this._hl+E|0,this._ah=this._ah+r+Oe(this._al,l)|0,this._bh=this._bh+n+Oe(this._bl,h)|0,this._ch=this._ch+i+Oe(this._cl,f)|0,this._dh=this._dh+s+Oe(this._dl,b)|0,this._eh=this._eh+o+Oe(this._el,_)|0,this._fh=this._fh+a+Oe(this._fl,O)|0,this._gh=this._gh+c+Oe(this._gl,R)|0,this._hh=this._hh+u+Oe(this._hl,E)|0};Xn.prototype._hash=function(){var t=Ey.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Zh=Xn,Oy=lt.exports,Ty=Zh,My=dn,ky=Lt.exports.Buffer,Ny=new Array(160);function fs(){this.init(),this._w=Ny,My.call(this,128,112)}Oy(fs,Ty);fs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};fs.prototype._hash=function(){var t=ky.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Ly=fs,Ir=Vh.exports=function(e){e=e.toLowerCase();var r=Ir[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Ir.sha=Zg;Ir.sha1=sy;Ir.sha224=_y;Ir.sha256=Jh;Ir.sha384=Ly;Ir.sha512=Zh;const{Transform:Py}=Uh();var jy=t=>class Yh extends Py{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!ne.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return ne.Buffer.isBuffer(r)||(r=ne.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Yh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Dy}=Uh();var $y=t=>class Kh extends Dy{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!ne.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return ne.Buffer.isBuffer(r)||(r=ne.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Kh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const By=jy,Fy=$y;var Wy=function(t){const e=By(t),r=Fy(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Xh={};const Ol=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Xh.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49];let f=l^(i<<1|s>>>31),b=h^(s<<1|i>>>31);const _=t[0]^f,O=t[1]^b,R=t[10]^f,E=t[11]^b,C=t[20]^f,I=t[21]^b,N=t[30]^f,L=t[31]^b,F=t[40]^f,J=t[41]^b;f=r^(o<<1|a>>>31),b=n^(a<<1|o>>>31);const G=t[2]^f,U=t[3]^b,Y=t[12]^f,ie=t[13]^b,K=t[22]^f,$=t[23]^b,M=t[32]^f,V=t[33]^b,H=t[42]^f,m=t[43]^b;f=i^(c<<1|u>>>31),b=s^(u<<1|c>>>31);const w=t[4]^f,x=t[5]^b,k=t[14]^f,P=t[15]^b,g=t[24]^f,S=t[25]^b,A=t[34]^f,Q=t[35]^b,y=t[44]^f,v=t[45]^b;f=o^(l<<1|h>>>31),b=a^(h<<1|l>>>31);const T=t[6]^f,B=t[7]^b,q=t[16]^f,d=t[17]^b,p=t[26]^f,j=t[27]^b,z=t[36]^f,be=t[37]^b,se=t[46]^f,pe=t[47]^b;f=c^(r<<1|n>>>31),b=u^(n<<1|r>>>31);const ht=t[8]^f,D=t[9]^b,ar=t[18]^f,Cn=t[19]^b,Rn=t[28]^f,kr=t[29]^b,Nr=t[38]^f,Lr=t[39]^b,Ht=t[48]^f,jt=t[49]^b,St=_,ao=O,co=E<<4|R>>>28,uo=R<<4|E>>>28,lo=C<<3|I>>>29,fo=I<<3|C>>>29,ho=L<<9|N>>>23,po=N<<9|L>>>23,bo=F<<18|J>>>14,go=J<<18|F>>>14,yo=G<<1|U>>>31,vo=U<<1|G>>>31,mo=ie<<12|Y>>>20,wo=Y<<12|ie>>>20,_o=K<<10|$>>>22,So=$<<10|K>>>22,Eo=V<<13|M>>>19,xo=M<<13|V>>>19,Co=H<<2|m>>>30,Ro=m<<2|H>>>30,Io=x<<30|w>>>2,Ao=w<<30|x>>>2,Oo=k<<6|P>>>26,To=P<<6|k>>>26,Mo=S<<11|g>>>21,ko=g<<11|S>>>21,No=A<<15|Q>>>17,Lo=Q<<15|A>>>17,Po=v<<29|y>>>3,jo=y<<29|v>>>3,Do=T<<28|B>>>4,$o=B<<28|T>>>4,Bo=d<<23|q>>>9,Fo=q<<23|d>>>9,Wo=p<<25|j>>>7,Uo=j<<25|p>>>7,Vo=z<<21|be>>>11,Ho=be<<21|z>>>11,zo=pe<<24|se>>>8,qo=se<<24|pe>>>8,Go=ht<<27|D>>>5,Jo=D<<27|ht>>>5,Qo=ar<<20|Cn>>>12,Zo=Cn<<20|ar>>>12,Yo=kr<<7|Rn>>>25,Ko=Rn<<7|kr>>>25,Xo=Nr<<8|Lr>>>24,ea=Lr<<8|Nr>>>24,ta=Ht<<14|jt>>>18,ra=jt<<14|Ht>>>18;t[0]=St^~mo&Mo,t[1]=ao^~wo&ko,t[10]=Do^~Qo&lo,t[11]=$o^~Zo&fo,t[20]=yo^~Oo&Wo,t[21]=vo^~To&Uo,t[30]=Go^~co&_o,t[31]=Jo^~uo&So,t[40]=Io^~Bo&Yo,t[41]=Ao^~Fo&Ko,t[2]=mo^~Mo&Vo,t[3]=wo^~ko&Ho,t[12]=Qo^~lo&Eo,t[13]=Zo^~fo&xo,t[22]=Oo^~Wo&Xo,t[23]=To^~Uo&ea,t[32]=co^~_o&No,t[33]=uo^~So&Lo,t[42]=Bo^~Yo&ho,t[43]=Fo^~Ko&po,t[4]=Mo^~Vo&ta,t[5]=ko^~Ho&ra,t[14]=lo^~Eo&Po,t[15]=fo^~xo&jo,t[24]=Wo^~Xo&bo,t[25]=Uo^~ea&go,t[34]=_o^~No&zo,t[35]=So^~Lo&qo,t[44]=Yo^~ho&Co,t[45]=Ko^~po&Ro,t[6]=Vo^~ta&St,t[7]=Ho^~ra&ao,t[16]=Eo^~Po&Do,t[17]=xo^~jo&$o,t[26]=Xo^~bo&yo,t[27]=ea^~go&vo,t[36]=No^~zo&Go,t[37]=Lo^~qo&Jo,t[46]=ho^~Co&Io,t[47]=po^~Ro&Ao,t[8]=ta^~St&mo,t[9]=ra^~ao&wo,t[18]=Po^~Do&Qo,t[19]=jo^~$o&Zo,t[28]=bo^~yo&Oo,t[29]=go^~vo&To,t[38]=zo^~Go&co,t[39]=qo^~Jo&uo,t[48]=Co^~Io&Bo,t[49]=Ro^~Ao&Fo,t[0]^=Ol[e*2],t[1]^=Ol[e*2+1]}};const Vi=Xh;function pn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}pn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};pn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Vi.p1600(this.state),this.count=0)};pn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&Vi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Vi.p1600(this.state),this.count=0,this.squeezing=!0};pn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=ne.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Vi.p1600(this.state),this.count=0);return e};pn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Uy=pn,Vy=Wy(Uy),dc={exports:{}},ja,Tl;function Hy(){if(Tl)return ja;Tl=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;ja=function(l,h){h=h||{};var f=typeof l;if(f==="string"&&l.length>0)return o(l);if(f==="number"&&isFinite(l))return h.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(!!h){var f=parseFloat(h[1]),b=(h[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(l){var h=Math.abs(l);return h>=n?Math.round(l/n)+"d":h>=r?Math.round(l/r)+"h":h>=e?Math.round(l/e)+"m":h>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var h=Math.abs(l);return h>=n?u(l,h,n,"day"):h>=r?u(l,h,r,"hour"):h>=e?u(l,h,e,"minute"):h>=t?u(l,h,t,"second"):l+" ms"}function u(l,h,f,b){var _=h>=f*1.5;return Math.round(l/f)+" "+b+(_?"s":"")}return ja}function zy(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Hy(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let h=0;for(let f=0;f<l.length;f++)h=(h<<5)-h+l.charCodeAt(f),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(l){let h,f=null,b,_;function O(...R){if(!O.enabled)return;const E=O,C=Number(new Date),I=C-(h||C);E.diff=I,E.prev=h,E.curr=C,h=C,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let N=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(F,J)=>{if(F==="%%")return"%";N++;const G=r.formatters[J];if(typeof G=="function"){const U=R[N];F=G.call(E,U),R.splice(N,1),N--}return F}),r.formatArgs.call(E,R),(E.log||r.log).apply(E,R)}return O.namespace=l,O.useColors=r.useColors(),O.color=r.selectColor(l),O.extend=n,O.destroy=r.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(b!==r.namespaces&&(b=r.namespaces,_=r.enabled(l)),_),set:R=>{f=R}}),typeof r.init=="function"&&r.init(O),O}function n(l,h){const f=r(this.namespace+(typeof h>"u"?":":h)+l);return f.log=this.log,f}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let h;const f=(typeof l=="string"?l:"").split(/[\s,]+/),b=f.length;for(h=0;h<b;h++)!f[h]||(l=f[h].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let h,f;for(h=0,f=r.skips.length;h<f;h++)if(r.skips[h].test(l))return!1;for(h=0,f=r.names.length;h<f;h++)if(r.names[h].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var qy=zy;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,h=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(l++,f==="%c"&&(h=l))}),c.splice(h,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof ce.exports<"u"&&"env"in ce.exports&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=qy(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(dc,dc.exports);var Wc={},Wn={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.walletLogo=void 0;const Gy=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};hs.walletLogo=Gy;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.ScopedLocalStorage=void 0;class Jy{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}ds.ScopedLocalStorage=Jy;var Xr={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const Qy=Mc.exports;function Ml(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Zy(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class Yy extends Qy.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Ml(s,this,r);else{const o=s.length,a=Zy(s);for(let c=0;c<o;c+=1)Ml(a[c],this,r)}return!0}}Ar.default=Yy;var ps={},Xt={},ed=Un;Un.default=Un;Un.stable=nd;Un.stableStringify=nd;var Hi="[...]",td="[Circular]",Sr=[],gr=[];function rd(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Un(t,e,r,n){typeof n>"u"&&(n=rd()),pc(t,"",0,[],void 0,0,n);var i;try{gr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,id(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Sr.length!==0;){var s=Sr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Gr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Sr.push([n,r,e,i])):gr.push([e,r,t]):(n[r]=t,Sr.push([n,r,e]))}function pc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Gr(td,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Gr(Hi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Gr(Hi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)pc(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];pc(t[u],u,a,n,t,s,o)}}n.pop()}}function Ky(t,e){return t<e?-1:t>e?1:0}function nd(t,e,r,n){typeof n>"u"&&(n=rd());var i=bc(t,"",0,[],void 0,0,n)||t,s;try{gr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,id(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Sr.length!==0;){var o=Sr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function bc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Gr(td,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Gr(Hi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Gr(Hi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)bc(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(Ky);for(a=0;a<u.length;a++){var l=u[a];bc(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")Sr.push([i,e,t]),i[e]=c;else return c}n.pop()}}function id(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(gr.length>0)for(var n=0;n<gr.length;n++){var i=gr[n];if(i[1]===e&&i[0]===r){r=i[2],gr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Xt,"__esModule",{value:!0});Xt.EthereumProviderError=Xt.EthereumRpcError=void 0;const Xy=ed;class sd extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Xy.default(this.serialize(),rv,2)}}Xt.EthereumRpcError=sd;class ev extends sd{constructor(e,r,n){if(!tv(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Xt.EthereumProviderError=ev;function tv(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function rv(t,e){if(e!=="[Circular]")return e}var Uc={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.errorValues=er.errorCodes=void 0;er.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};er.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=er,r=Xt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,b=i){if(Number.isInteger(f)){const _=f.toString();if(h(e.errorValues,_))return e.errorValues[_].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const b=f.toString();return!!(e.errorValues[b]||u(f))}t.isValidCode=a;function c(f,{fallbackError:b=s,shouldIncludeStack:_=!1}={}){var O,R;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const E={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const I=f;E.code=I.code,I.message&&typeof I.message=="string"?(E.message=I.message,h(I,"data")&&(E.data=I.data)):(E.message=o(E.code),E.data={originalError:l(f)})}else{E.code=b.code;const I=(O=f)===null||O===void 0?void 0:O.message;E.message=I&&typeof I=="string"?I:b.message,E.data={originalError:l(f)}}const C=(R=f)===null||R===void 0?void 0:R.stack;return _&&f&&C&&typeof C=="string"&&(E.stack=C),E}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,b){return Object.prototype.hasOwnProperty.call(f,b)}})(Uc);var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.ethErrors=void 0;const Vc=Xt,od=Uc,$e=er;bs.ethErrors={rpc:{parse:t=>rt($e.errorCodes.rpc.parse,t),invalidRequest:t=>rt($e.errorCodes.rpc.invalidRequest,t),invalidParams:t=>rt($e.errorCodes.rpc.invalidParams,t),methodNotFound:t=>rt($e.errorCodes.rpc.methodNotFound,t),internal:t=>rt($e.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return rt(e,t)},invalidInput:t=>rt($e.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>rt($e.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>rt($e.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>rt($e.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>rt($e.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>rt($e.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>An($e.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>An($e.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>An($e.errorCodes.provider.unsupportedMethod,t),disconnected:t=>An($e.errorCodes.provider.disconnected,t),chainDisconnected:t=>An($e.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Vc.EthereumProviderError(e,r,n)}}};function rt(t,e){const[r,n]=ad(e);return new Vc.EthereumRpcError(t,r||od.getMessageFromCode(t),n)}function An(t,e){const[r,n]=ad(e);return new Vc.EthereumProviderError(t,r||od.getMessageFromCode(t),n)}function ad(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Xt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Uc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=bs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=er;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ps);var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.EVENTS=void 0;bn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var gn={},X={};const nv={},iv=Object.freeze(Object.defineProperty({__proto__:null,default:nv},Symbol.toStringTag,{value:"Module"})),sv=Rr(iv);var Hc=typeof Map=="function"&&Map.prototype,Da=Object.getOwnPropertyDescriptor&&Hc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,zi=Hc&&Da&&typeof Da.get=="function"?Da.get:null,kl=Hc&&Map.prototype.forEach,zc=typeof Set=="function"&&Set.prototype,$a=Object.getOwnPropertyDescriptor&&zc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,qi=zc&&$a&&typeof $a.get=="function"?$a.get:null,Nl=zc&&Set.prototype.forEach,ov=typeof WeakMap=="function"&&WeakMap.prototype,jn=ov?WeakMap.prototype.has:null,av=typeof WeakSet=="function"&&WeakSet.prototype,Dn=av?WeakSet.prototype.has:null,cv=typeof WeakRef=="function"&&WeakRef.prototype,Ll=cv?WeakRef.prototype.deref:null,uv=Boolean.prototype.valueOf,lv=Object.prototype.toString,fv=Function.prototype.toString,hv=String.prototype.match,qc=String.prototype.slice,Yt=String.prototype.replace,dv=String.prototype.toUpperCase,Pl=String.prototype.toLowerCase,cd=RegExp.prototype.test,jl=Array.prototype.concat,At=Array.prototype.join,pv=Array.prototype.slice,Dl=Math.floor,gc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ba=Object.getOwnPropertySymbols,yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,en=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ve=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===en?"object":"symbol")?Symbol.toStringTag:null,ud=Object.prototype.propertyIsEnumerable,$l=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Bl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||cd.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Dl(-t):Dl(t);if(n!==t){var i=String(n),s=qc.call(e,i.length+1);return Yt.call(i,r,"$&_")+"."+Yt.call(Yt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yt.call(e,r,"$&_")}var vc=sv,Fl=vc.custom,Wl=fd(Fl)?Fl:null,bv=function t(e,r,n,i){var s=r||{};if(Jt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Jt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return dd(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Bl(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Bl(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return mc(e)?"[Array]":"[Object]";var h=Nv(s,n);if(typeof i>"u")i=[];else if(hd(i,e)>=0)return"[Circular]";function f($,M,V){if(M&&(i=pv.call(i),i.push(M)),V){var H={depth:s.depth};return Jt(s,"quoteStyle")&&(H.quoteStyle=s.quoteStyle),t($,H,n+1,i)}return t($,s,n+1,i)}if(typeof e=="function"&&!Ul(e)){var b=xv(e),_=wi(e,f);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(_.length>0?" { "+At.call(_,", ")+" }":"")}if(fd(e)){var O=en?Yt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):yc.call(e);return typeof e=="object"&&!en?On(O):O}if(Tv(e)){for(var R="<"+Pl.call(String(e.nodeName)),E=e.attributes||[],C=0;C<E.length;C++)R+=" "+E[C].name+"="+ld(gv(E[C].value),"double",s);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+Pl.call(String(e.nodeName))+">",R}if(mc(e)){if(e.length===0)return"[]";var I=wi(e,f);return h&&!kv(I)?"["+wc(I,h)+"]":"[ "+At.call(I,", ")+" ]"}if(vv(e)){var N=wi(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!ud.call(e,"cause")?"{ ["+String(e)+"] "+At.call(jl.call("[cause]: "+f(e.cause),N),", ")+" }":N.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+At.call(N,", ")+" }"}if(typeof e=="object"&&o){if(Wl&&typeof e[Wl]=="function"&&vc)return vc(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Cv(e)){var L=[];return kl&&kl.call(e,function($,M){L.push(f(M,e,!0)+" => "+f($,e))}),Vl("Map",zi.call(e),L,h)}if(Av(e)){var F=[];return Nl&&Nl.call(e,function($){F.push(f($,e))}),Vl("Set",qi.call(e),F,h)}if(Rv(e))return Fa("WeakMap");if(Ov(e))return Fa("WeakSet");if(Iv(e))return Fa("WeakRef");if(wv(e))return On(f(Number(e)));if(Sv(e))return On(f(gc.call(e)));if(_v(e))return On(uv.call(e));if(mv(e))return On(f(String(e)));if(!yv(e)&&!Ul(e)){var J=wi(e,f),G=$l?$l(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",Y=!G&&Ve&&Object(e)===e&&Ve in e?qc.call(or(e),8,-1):U?"Object":"",ie=G||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=ie+(Y||U?"["+At.call(jl.call([],Y||[],U||[]),": ")+"] ":"");return J.length===0?K+"{}":h?K+"{"+wc(J,h)+"}":K+"{ "+At.call(J,", ")+" }"}return String(e)};function ld(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function gv(t){return Yt.call(String(t),/"/g,"&quot;")}function mc(t){return or(t)==="[object Array]"&&(!Ve||!(typeof t=="object"&&Ve in t))}function yv(t){return or(t)==="[object Date]"&&(!Ve||!(typeof t=="object"&&Ve in t))}function Ul(t){return or(t)==="[object RegExp]"&&(!Ve||!(typeof t=="object"&&Ve in t))}function vv(t){return or(t)==="[object Error]"&&(!Ve||!(typeof t=="object"&&Ve in t))}function mv(t){return or(t)==="[object String]"&&(!Ve||!(typeof t=="object"&&Ve in t))}function wv(t){return or(t)==="[object Number]"&&(!Ve||!(typeof t=="object"&&Ve in t))}function _v(t){return or(t)==="[object Boolean]"&&(!Ve||!(typeof t=="object"&&Ve in t))}function fd(t){if(en)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!yc)return!1;try{return yc.call(t),!0}catch{}return!1}function Sv(t){if(!t||typeof t!="object"||!gc)return!1;try{return gc.call(t),!0}catch{}return!1}var Ev=Object.prototype.hasOwnProperty||function(t){return t in this};function Jt(t,e){return Ev.call(t,e)}function or(t){return lv.call(t)}function xv(t){if(t.name)return t.name;var e=hv.call(fv.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function hd(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Cv(t){if(!zi||!t||typeof t!="object")return!1;try{zi.call(t);try{qi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Rv(t){if(!jn||!t||typeof t!="object")return!1;try{jn.call(t,jn);try{Dn.call(t,Dn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Iv(t){if(!Ll||!t||typeof t!="object")return!1;try{return Ll.call(t),!0}catch{}return!1}function Av(t){if(!qi||!t||typeof t!="object")return!1;try{qi.call(t);try{zi.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Ov(t){if(!Dn||!t||typeof t!="object")return!1;try{Dn.call(t,Dn);try{jn.call(t,jn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Tv(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function dd(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return dd(qc.call(t,0,e.maxStringLength),e)+n}var i=Yt.call(Yt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Mv);return ld(i,"single",e)}function Mv(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+dv.call(e.toString(16))}function On(t){return"Object("+t+")"}function Fa(t){return t+" { ? }"}function Vl(t,e,r,n){var i=n?wc(r,n):At.call(r,", ");return t+" ("+e+") {"+i+"}"}function kv(t){for(var e=0;e<t.length;e++)if(hd(t[e],`
`)>=0)return!1;return!0}function Nv(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=At.call(Array(t.indent+1)," ");else return null;return{base:r,prev:At.call(Array(e+1),r)}}function wc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+At.call(t,","+r)+`
`+e.prev}function wi(t,e){var r=mc(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Jt(t,i)?e(t[i],t):""}var s=typeof Ba=="function"?Ba(t):[],o;if(en){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!Jt(t,c)||r&&String(Number(c))===c&&c<t.length||en&&o["$"+c]instanceof Symbol||(cd.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof Ba=="function")for(var u=0;u<s.length;u++)ud.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Gc=os,yn=as,Lv=bv,Pv=Gc("%TypeError%"),_i=Gc("%WeakMap%",!0),Si=Gc("%Map%",!0),jv=yn("WeakMap.prototype.get",!0),Dv=yn("WeakMap.prototype.set",!0),$v=yn("WeakMap.prototype.has",!0),Bv=yn("Map.prototype.get",!0),Fv=yn("Map.prototype.set",!0),Wv=yn("Map.prototype.has",!0),Jc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Uv=function(t,e){var r=Jc(t,e);return r&&r.value},Vv=function(t,e,r){var n=Jc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Hv=function(t,e){return!!Jc(t,e)},zv=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Pv("Side channel does not contain "+Lv(s))},get:function(s){if(_i&&s&&(typeof s=="object"||typeof s=="function")){if(e)return jv(e,s)}else if(Si){if(r)return Bv(r,s)}else if(n)return Uv(n,s)},has:function(s){if(_i&&s&&(typeof s=="object"||typeof s=="function")){if(e)return $v(e,s)}else if(Si){if(r)return Wv(r,s)}else if(n)return Hv(n,s);return!1},set:function(s,o){_i&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new _i),Dv(e,s,o)):Si?(r||(r=new Si),Fv(r,s,o)):(n||(n={key:{},next:null}),Vv(n,s,o))}};return i},qv=String.prototype.replace,Gv=/%20/g,Wa={RFC1738:"RFC1738",RFC3986:"RFC3986"},Qc={default:Wa.RFC3986,formatters:{RFC1738:function(t){return qv.call(t,Gv,"+")},RFC3986:function(t){return String(t)}},RFC1738:Wa.RFC1738,RFC3986:Wa.RFC3986},Jv=Qc,Ua=Object.prototype.hasOwnProperty,hr=Array.isArray,Et=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Qv=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(hr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},pd=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Zv=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(hr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ua.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return hr(e)&&!hr(r)&&(i=pd(e,n)),hr(e)&&hr(r)?(r.forEach(function(s,o){if(Ua.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Ua.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Yv=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Kv=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Xv=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Jv.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+Et[u];continue}if(u<2048){a=a+(Et[192|u>>6]+Et[128|u&63]);continue}if(u<55296||u>=57344){a=a+(Et[224|u>>12]+Et[128|u>>6&63]+Et[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=Et[240|u>>18]+Et[128|u>>12&63]+Et[128|u>>6&63]+Et[128|u&63]}return a},em=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return Qv(r),e},tm=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},rm=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},nm=function(e,r){return[].concat(e,r)},im=function(e,r){if(hr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},bd={arrayToObject:pd,assign:Yv,combine:nm,compact:em,decode:Kv,encode:Xv,isBuffer:rm,isRegExp:tm,maybeMap:im,merge:Zv},gd=zv,Di=bd,$n=Qc,sm=Object.prototype.hasOwnProperty,Hl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ft=Array.isArray,om=Array.prototype.push,yd=function(t,e){om.apply(t,Ft(e)?e:[e])},am=Date.prototype.toISOString,zl=$n.default,Ue={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Di.encode,encodeValuesOnly:!1,format:zl,formatter:$n.formatters[zl],indices:!1,serializeDate:function(e){return am.call(e)},skipNulls:!1,strictNullHandling:!1},cm=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Va={},um=function t(e,r,n,i,s,o,a,c,u,l,h,f,b,_,O,R){for(var E=e,C=R,I=0,N=!1;(C=C.get(Va))!==void 0&&!N;){var L=C.get(e);if(I+=1,typeof L<"u"){if(L===I)throw new RangeError("Cyclic object value");N=!0}typeof C.get(Va)>"u"&&(I=0)}if(typeof c=="function"?E=c(r,E):E instanceof Date?E=h(E):n==="comma"&&Ft(E)&&(E=Di.maybeMap(E,function(H){return H instanceof Date?h(H):H})),E===null){if(s)return a&&!_?a(r,Ue.encoder,O,"key",f):r;E=""}if(cm(E)||Di.isBuffer(E)){if(a){var F=_?r:a(r,Ue.encoder,O,"key",f);return[b(F)+"="+b(a(E,Ue.encoder,O,"value",f))]}return[b(r)+"="+b(String(E))]}var J=[];if(typeof E>"u")return J;var G;if(n==="comma"&&Ft(E))_&&a&&(E=Di.maybeMap(E,a)),G=[{value:E.length>0?E.join(",")||null:void 0}];else if(Ft(c))G=c;else{var U=Object.keys(E);G=u?U.sort(u):U}for(var Y=i&&Ft(E)&&E.length===1?r+"[]":r,ie=0;ie<G.length;++ie){var K=G[ie],$=typeof K=="object"&&typeof K.value<"u"?K.value:E[K];if(!(o&&$===null)){var M=Ft(E)?typeof n=="function"?n(Y,K):Y:Y+(l?"."+K:"["+K+"]");R.set(e,I);var V=gd();V.set(Va,R),yd(J,t($,M,n,i,s,o,n==="comma"&&_&&Ft(E)?null:a,c,u,l,h,f,b,_,O,V))}}return J},lm=function(e){if(!e)return Ue;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ue.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=$n.default;if(typeof e.format<"u"){if(!sm.call($n.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=$n.formatters[n],s=Ue.filter;return(typeof e.filter=="function"||Ft(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ue.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ue.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ue.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ue.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ue.encode,encoder:typeof e.encoder=="function"?e.encoder:Ue.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ue.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ue.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ue.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ue.strictNullHandling}},fm=function(t,e){var r=t,n=lm(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Ft(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Hl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Hl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=gd(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||yd(o,um(r[f],f,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var b=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""},tn=bd,_c=Object.prototype.hasOwnProperty,hm=Array.isArray,ke={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:tn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},dm=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},vd=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},pm="utf8=%26%2310003%3B",bm="utf8=%E2%9C%93",gm=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===bm?u="utf-8":o[c]===pm&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],h=l.indexOf("]="),f=h===-1?l.indexOf("="):h+1,b,_;f===-1?(b=r.decoder(l,ke.decoder,u,"key"),_=r.strictNullHandling?null:""):(b=r.decoder(l.slice(0,f),ke.decoder,u,"key"),_=tn.maybeMap(vd(l.slice(f+1),r),function(O){return r.decoder(O,ke.decoder,u,"value")})),_&&r.interpretNumericEntities&&u==="iso-8859-1"&&(_=dm(_)),l.indexOf("[]=")>-1&&(_=hm(_)?[_]:_),_c.call(n,b)?n[b]=tn.combine(n[b],_):n[b]=_}return n},ym=function(t,e,r,n){for(var i=n?e:vd(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},vm=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&_c.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&_c.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),ym(l,r,n,i)}},mm=function(e){if(!e)return ke;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ke.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ke.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ke.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ke.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ke.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ke.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ke.comma,decoder:typeof e.decoder=="function"?e.decoder:ke.decoder,delimiter:typeof e.delimiter=="string"||tn.isRegExp(e.delimiter)?e.delimiter:ke.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ke.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ke.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ke.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ke.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ke.strictNullHandling}},wm=function(t,e){var r=mm(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?gm(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=vm(a,n[a],r,typeof t=="string");i=tn.merge(i,c,r)}return r.allowSparse===!0?i:tn.compact(i)},_m=fm,Sm=wm,Em=Qc,xm={formats:Em,parse:Sm,stringify:_m},ei={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(ei);var Cm=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X,"__esModule",{value:!0});X.isInIFrame=X.createQrUrl=X.getFavicon=X.range=X.isBigNumber=X.ensureParsedJSONObject=X.ensureBN=X.ensureRegExpString=X.ensureIntNumber=X.ensureBuffer=X.ensureAddressString=X.ensureEvenLengthHexString=X.ensureHexString=X.isHexString=X.prepend0x=X.strip0x=X.has0xPrefix=X.hexStringFromIntNumber=X.intNumberFromHexString=X.bigIntStringFromBN=X.hexStringFromBuffer=X.hexStringToUint8Array=X.uint8ArrayToHex=X.randomBytesHex=void 0;const Qt=Cm(Xi.exports),Rm=xm,ct=ei,md=/^[0-9]*$/,wd=/^[a-f0-9]*$/;function Im(t){return _d(crypto.getRandomValues(new Uint8Array(t)))}X.randomBytesHex=Im;function _d(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}X.uint8ArrayToHex=_d;function Am(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}X.hexStringToUint8Array=Am;function Om(t,e=!1){const r=t.toString("hex");return(0,ct.HexString)(e?"0x"+r:r)}X.hexStringFromBuffer=Om;function Tm(t){return(0,ct.BigIntString)(t.toString(10))}X.bigIntStringFromBN=Tm;function Mm(t){return(0,ct.IntNumber)(new Qt.default(ri(t,!1),16).toNumber())}X.intNumberFromHexString=Mm;function km(t){return(0,ct.HexString)("0x"+new Qt.default(t).toString(16))}X.hexStringFromIntNumber=km;function Zc(t){return t.startsWith("0x")||t.startsWith("0X")}X.has0xPrefix=Zc;function gs(t){return Zc(t)?t.slice(2):t}X.strip0x=gs;function Sd(t){return Zc(t)?"0x"+t.slice(2):"0x"+t}X.prepend0x=Sd;function ti(t){if(typeof t!="string")return!1;const e=gs(t).toLowerCase();return wd.test(e)}X.isHexString=ti;function Ed(t,e=!1){if(typeof t=="string"){const r=gs(t).toLowerCase();if(wd.test(r))return(0,ct.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}X.ensureHexString=Ed;function ri(t,e=!1){let r=Ed(t,!1);return r.length%2===1&&(r=(0,ct.HexString)("0"+r)),e?(0,ct.HexString)("0x"+r):r}X.ensureEvenLengthHexString=ri;function Nm(t){if(typeof t=="string"){const e=gs(t).toLowerCase();if(ti(e)&&e.length===40)return(0,ct.AddressString)(Sd(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}X.ensureAddressString=Nm;function Lm(t){if(ne.Buffer.isBuffer(t))return t;if(typeof t=="string")if(ti(t)){const e=ri(t,!1);return ne.Buffer.from(e,"hex")}else return ne.Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}X.ensureBuffer=Lm;function xd(t){if(typeof t=="number"&&Number.isInteger(t))return(0,ct.IntNumber)(t);if(typeof t=="string"){if(md.test(t))return(0,ct.IntNumber)(Number(t));if(ti(t))return(0,ct.IntNumber)(new Qt.default(ri(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}X.ensureIntNumber=xd;function Pm(t){if(t instanceof RegExp)return(0,ct.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}X.ensureRegExpString=Pm;function jm(t){if(t!==null&&(Qt.default.isBN(t)||Cd(t)))return new Qt.default(t.toString(10),10);if(typeof t=="number")return new Qt.default(xd(t));if(typeof t=="string"){if(md.test(t))return new Qt.default(t,10);if(ti(t))return new Qt.default(ri(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}X.ensureBN=jm;function Dm(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}X.ensureParsedJSONObject=Dm;function Cd(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}X.isBigNumber=Cd;function $m(t,e){return Array.from({length:e-t},(r,n)=>t+n)}X.range=$m;function Bm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}X.getFavicon=Bm;function Fm(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Rm.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}X.createQrUrl=Fm;function Wm(){try{return window.frameElement!==null}catch{return!1}}X.isInIFrame=Wm;Object.defineProperty(gn,"__esModule",{value:!0});gn.Session=void 0;const ql=Vh.exports,Gl=X,Jl="session:id",Ql="session:secret",Zl="session:linked";class Yc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Gl.randomBytesHex)(16),this._secret=n||(0,Gl.randomBytesHex)(32),this._key=new ql.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Jl),n=e.getItem(Zl),i=e.getItem(Ql);return r&&i?new Yc(e,r,i,n==="1"):null}static hash(e){return new ql.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Jl,this._id),this._storage.setItem(Ql,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Zl,this._linked?"1":"0")}}gn.Session=Yc;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.WalletSDKRelayAbstract=mt.APP_VERSION_KEY=mt.LOCAL_STORAGE_ADDRESSES_KEY=mt.WALLET_USER_NAME_KEY=void 0;const Yl=ps;mt.WALLET_USER_NAME_KEY="walletUsername";mt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";mt.APP_VERSION_KEY="AppVersion";class Um{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Yl.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Yl.serializeError)(s);return i})}}mt.WalletSDKRelayAbstract=Um;const Vm=Vy,Hm=Xi.exports;function Rd(t){return ne.Buffer.allocUnsafe(t).fill(0)}function Id(t,e,r){const n=Rd(e);return t=ys(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function zm(t,e){return Id(t,e,!0)}function ys(t){if(!ne.Buffer.isBuffer(t))if(Array.isArray(t))t=ne.Buffer.from(t);else if(typeof t=="string")Ad(t)?t=ne.Buffer.from(Jm(Od(t)),"hex"):t=ne.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=ne.Buffer.allocUnsafe(0);else if(Hm.isBN(t))t=t.toArrayLike(ne.Buffer);else if(t.toArray)t=ne.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function qm(t){return t=ys(t),"0x"+t.toString("hex")}function Gm(t,e){return t=ys(t),e||(e=256),Vm("keccak"+e).update(t).digest()}function Jm(t){return t.length%2?"0"+t:t}function Ad(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Od(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Td={zeros:Rd,setLength:Id,setLengthRight:zm,isHexString:Ad,stripHexPrefix:Od,toBuffer:ys,bufferToHex:qm,keccak:Gm};const Er=Td,yr=Xi.exports;function Md(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Jr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Kl(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function kd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function dr(t){var e=typeof t;if(e==="string")return Er.isHexString(t)?new yr(Er.stripHexPrefix(t),16):new yr(t,10);if(e==="number")return new yr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Rt(t,e){var r,n,i,s;if(t==="address")return Rt("uint160",dr(e));if(t==="bool")return Rt("uint8",e?1:0);if(t==="string")return Rt("bytes",new ne.Buffer(e,"utf8"));if(Zm(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=kd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Rt(t,e[s]));if(r==="dynamic"){var o=Rt("uint256",e.length);i.unshift(o)}return ne.Buffer.concat(i)}else{if(t==="bytes")return e=new ne.Buffer(e),i=ne.Buffer.concat([Rt("uint256",e.length),e]),e.length%32!==0&&(i=ne.Buffer.concat([i,Er.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Jr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Er.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Jr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=dr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(ne.Buffer,"be",32)}else if(t.startsWith("int")){if(r=Jr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=dr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(ne.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Kl(t),n=dr(e),n<0)throw new Error("Supplied ufixed is negative");return Rt("uint256",n.mul(new yr(2).pow(new yr(r[1]))))}else if(t.startsWith("fixed"))return r=Kl(t),Rt("int256",dr(e).mul(new yr(2).pow(new yr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Qm(t){return t==="string"||t==="bytes"||kd(t)==="dynamic"}function Zm(t){return t.lastIndexOf("]")===t.length-1}function Ym(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Md(t[s]),a=e[s],c=Rt(o,a);Qm(o)?(r.push(Rt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return ne.Buffer.concat(r.concat(n))}function Nd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Md(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new ne.Buffer(a,"utf8"));else if(o==="bool")i.push(new ne.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Er.setLength(a,20));else if(o.startsWith("bytes")){if(r=Jr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Er.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Jr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=dr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(ne.Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Jr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=dr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(ne.Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return ne.Buffer.concat(i)}function Km(t,e){return Er.keccak(Nd(t,e))}var Xm={rawEncode:Ym,solidityPack:Nd,soliditySHA3:Km};const bt=Td,Bn=Xm,Ld={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ha={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":bt.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",bt.keccak(u)];if(c==="string")return typeof u=="string"&&(u=ne.Buffer.from(u,"utf8")),["bytes32",bt.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),h=u.map(f=>o(a,l,f));return["bytes32",bt.keccak(Bn.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=bt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=ne.Buffer.from(a,"utf8")),a=bt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=bt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Bn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return bt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return bt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Ld.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[ne.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),bt.keccak(ne.Buffer.concat(n))}};var e1={TYPED_MESSAGE_SCHEMA:Ld,TypedDataUtils:Ha,hashForSignTypedDataLegacy:function(t){return t1(t.data)},hashForSignTypedData_v3:function(t){return Ha.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ha.hash(t.data)}};function t1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?bt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Bn.soliditySHA3(["bytes32","bytes32"],[Bn.soliditySHA3(new Array(t.length).fill("string"),i),Bn.soliditySHA3(n,r)])}var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.filterFromParam=rn.FilterPolyfill=void 0;const Wr=ei,ze=X,r1=5*60*1e3,pr={jsonrpc:"2.0",id:0};class n1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Wr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Pd(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,ze.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,ze.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,ze.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,ze.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,ze.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Ei())}async getFilterLogs(e){const r=(0,ze.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_getLogs",params:[Xl(n)]})):Ei()}makeFilterId(){return(0,Wr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Ei();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return xi();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_getLogs",params:[Xl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,ze.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,Wr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Ei();const n=await this.getCurrentBlockHeight();if(r>n)return xi();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,ze.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Wr.IntNumber)(o))))).filter(o=>!!o),s=(0,Wr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},pr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(xi())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},r1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_blockNumber",params:[]}));return(0,ze.intNumberFromHexString)((0,ze.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},pr),{method:"eth_getBlockByNumber",params:[(0,ze.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,ze.ensureHexString)(r.result.hash):null}}rn.FilterPolyfill=n1;function Pd(t){return{fromBlock:ef(t.fromBlock),toBlock:ef(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}rn.filterFromParam=Pd;function Xl(t){const e={fromBlock:tf(t.fromBlock),toBlock:tf(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function ef(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Wr.IntNumber)(0);if((0,ze.isHexString)(t))return(0,ze.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function tf(t){return t==="latest"?t:(0,ze.hexStringFromIntNumber)(t)}function Ei(){return Object.assign(Object.assign({},pr),{error:{code:-32e3,message:"filter not found"}})}function xi(){return Object.assign(Object.assign({},pr),{result:[]})}var jd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(jd);var vs={},Dd={},ms={},Kc=i1;function i1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const rf=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var s1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):rf(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?rf(s,e):s}return n},ni={},o1=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ni,"__esModule",{value:!0});ni.BaseBlockTracker=void 0;const a1=o1(Ar),c1=1e3,u1=(t,e)=>t+e,nf=["sync","latest"];class l1 extends a1.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*c1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){nf.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return nf.map(e=>this.listenerCount(e)).reduce(u1)}_newPotentialLatest(e){const r=this._currentBlock;r&&sf(e)<=sf(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}ni.BaseBlockTracker=l1;function sf(t){return Number.parseInt(t,16)}var $d={},Bd={},De={};class Fd extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s!=null?s:c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n!=null?n:n=[e,...r()]}}function f1(t){return ut(t)&&typeof t[Symbol.iterator]=="function"}function ut(t){return typeof t=="object"&&t!=null}function of(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Ae(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function h1(t){const{done:e,value:r}=t.next();return e?void 0:r}function d1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ae(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Sc(t,e,r,n){f1(t)||(t=[t]);for(const i of t){const s=d1(i,e,r,n);s&&(yield s)}}function*Xc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&ut(e.schema)&&ut(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,h]of e.entries(t,a)){const f=Xc(l,h,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const b of f)b[0]?(c=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(l=b[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):ut(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class Ce{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Sc(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Sc(l,u,this,c)}:this.refiner=()=>[]}assert(e,r){return Wd(e,this,r)}create(e,r){return Ud(e,this,r)}is(e){return eu(e,this)}mask(e,r){return Vd(e,this,r)}validate(e,r={}){return vn(e,this,r)}}function Wd(t,e,r){const n=vn(t,e,{message:r});if(n[0])throw n[0]}function Ud(t,e,r){const n=vn(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Vd(t,e,r){const n=vn(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function eu(t,e){return!vn(t,e)[0]}function vn(t,e,r={}){const n=Xc(t,e,r),i=h1(n);return i[0]?[new Fd(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function p1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?ru(n):ii(n)}function Ze(t,e){return new Ce({type:t,schema:null,validator:e})}function b1(t,e){return new Ce({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function g1(t){return new Ce({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function y1(t){let e;return new Ce({type:"lazy",schema:null,*entries(r,n){e!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){return e!=null||(e=t()),e.validator(r,n)},coercer(r,n){return e!=null||(e=t()),e.coercer(r,n)},refiner(r,n){return e!=null||(e=t()),e.refiner(r,n)}})}function v1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return ru(n);default:return ii(n)}}function m1(t){const e=t instanceof Ce?{...t.schema}:{...t};for(const r in e)e[r]=Hd(e[r]);return ii(e)}function w1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return ii(n)}function _1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Ze(t,e)}function S1(){return Ze("any",()=>!0)}function E1(t){return new Ce({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ae(e)}`}})}function x1(){return Ze("bigint",t=>typeof t=="bigint")}function C1(){return Ze("boolean",t=>typeof t=="boolean")}function R1(){return Ze("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${Ae(t)}`)}function I1(t){const e={},r=t.map(n=>Ae(n)).join();for(const n of t)e[n]=n;return new Ce({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${Ae(n)}`}})}function A1(){return Ze("func",t=>typeof t=="function"||`Expected a function, but received: ${Ae(t)}`)}function O1(t){return Ze("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ae(e)}`)}function T1(){return Ze("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Ae(t)}`)}function M1(t){return new Ce({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function k1(t){const e=Ae(t),r=typeof t;return new Ce({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Ae(n)}`}})}function N1(t,e){return new Ce({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Ae(r)}`}})}function tu(){return Ze("never",()=>!1)}function L1(t){return new Ce({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function P1(){return Ze("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ae(t)}`)}function ii(t){const e=t?Object.keys(t):[],r=tu();return new Ce({type:"object",schema:t||null,*entries(n){if(t&&ut(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return ut(n)||`Expected an object, but received: ${Ae(n)}`},coercer(n){return ut(n)?{...n}:n}})}function Hd(t){return new Ce({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function j1(t,e){return new Ce({type:"record",schema:null,*entries(r){if(ut(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return ut(r)||`Expected an object, but received: ${Ae(r)}`}})}function D1(){return Ze("regexp",t=>t instanceof RegExp)}function $1(t){return new Ce({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${Ae(e)}`}})}function zd(){return Ze("string",t=>typeof t=="string"||`Expected a string, but received: ${Ae(t)}`)}function B1(t){const e=tu();return new Ce({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Ae(r)}`}})}function ru(t){const e=Object.keys(t);return new Ce({type:"type",schema:t,*entries(r){if(ut(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return ut(r)||`Expected an object, but received: ${Ae(r)}`},coercer(r){return ut(r)?{...r}:r}})}function F1(t){const e=t.map(r=>r.type).join(" | ");return new Ce({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Xc(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ae(r)}`,...i]}})}function qd(){return Ze("unknown",()=>!0)}function nu(t,e,r){return new Ce({...t,coercer:(n,i)=>eu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function W1(t,e,r={}){return nu(t,qd(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&of(n)&&of(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function U1(t){return nu(t,zd(),e=>e.trim())}function V1(t){return Or(t,"empty",e=>{const r=Gd(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Gd(t){return t instanceof Map||t instanceof Set?t.size:t.length}function H1(t,e,r={}){const{exclusive:n}=r;return Or(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function z1(t,e,r={}){const{exclusive:n}=r;return Or(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function q1(t){return Or(t,"nonempty",e=>Gd(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function G1(t,e){return Or(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function J1(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Or(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Or(t,e,r){return new Ce({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=Sc(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const Q1=Object.freeze(Object.defineProperty({__proto__:null,Struct:Ce,StructError:Fd,any:S1,array:E1,assert:Wd,assign:p1,bigint:x1,boolean:C1,coerce:nu,create:Ud,date:R1,defaulted:W1,define:Ze,deprecated:b1,dynamic:g1,empty:V1,enums:I1,func:A1,instance:O1,integer:T1,intersection:M1,is:eu,lazy:y1,literal:k1,map:N1,mask:Vd,max:H1,min:z1,never:tu,nonempty:q1,nullable:L1,number:P1,object:ii,omit:v1,optional:Hd,partial:m1,pattern:G1,pick:w1,record:j1,refine:Or,regexp:D1,set:$1,size:J1,string:zd,struct:_1,trimmed:U1,tuple:B1,type:ru,union:F1,unknown:qd,validate:vn},Symbol.toStringTag,{value:"Module"})),Tr=Rr(Q1);Object.defineProperty(De,"__esModule",{value:!0});De.assertExhaustive=De.assertStruct=De.assert=De.AssertionError=void 0;const Z1=Tr;function Y1(t){return typeof t=="object"&&t!==null&&"message"in t}function K1(t){var e,r;return Boolean(typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function X1(t){const e=Y1(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Jd(t,e){return K1(t)?new t({message:e}):t({message:e})}class iu extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}De.AssertionError=iu;function ew(t,e="Assertion failed.",r=iu){if(!t)throw e instanceof Error?e:Jd(r,e)}De.assert=ew;function tw(t,e,r="Assertion failed",n=iu){try{(0,Z1.assert)(t,e)}catch(i){throw Jd(n,`${r}: ${X1(i)}.`)}}De.assertStruct=tw;function rw(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}De.assertExhaustive=rw;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.base64=void 0;const nw=Tr,iw=De,sw=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,iw.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,nw.pattern)(t,a)};si.base64=sw;var he={},oi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Tr,r=De;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(oi);Object.defineProperty(he,"__esModule",{value:!0});he.createDataView=he.concatBytes=he.valueToBytes=he.stringToBytes=he.numberToBytes=he.signedBigIntToBytes=he.bigIntToBytes=he.hexToBytes=he.bytesToString=he.bytesToNumber=he.bytesToSignedBigInt=he.bytesToBigInt=he.bytesToHex=he.assertIsBytes=he.isBytes=void 0;const Xe=De,Ec=oi,af=48,cf=58,uf=87;function ow(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const aw=ow();function su(t){return t instanceof Uint8Array}he.isBytes=su;function mn(t){(0,Xe.assert)(su(t),"Value must be a Uint8Array.")}he.assertIsBytes=mn;function Qd(t){if(mn(t),t.length===0)return"0x";const e=aw(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,Ec.add0x)(r.join(""))}he.bytesToHex=Qd;function Zd(t){mn(t);const e=Qd(t);return BigInt(e)}he.bytesToBigInt=Zd;function cw(t){mn(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}he.bytesToSignedBigInt=cw;function uw(t){mn(t);const e=Zd(t);return(0,Xe.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}he.bytesToNumber=uw;function lw(t){return mn(t),new TextDecoder().decode(t)}he.bytesToString=lw;function ws(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,Ec.assertIsHexString)(t);const r=(0,Ec.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<cf?af:uf),u=a-(a<cf?af:uf);i[s]=c*16+u}return i}he.hexToBytes=ws;function Yd(t){(0,Xe.assert)(typeof t=="bigint","Value must be a bigint."),(0,Xe.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return ws(e)}he.bigIntToBytes=Yd;function fw(t,e){(0,Xe.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function hw(t,e){(0,Xe.assert)(typeof t=="bigint","Value must be a bigint."),(0,Xe.assert)(typeof e=="number","Byte length must be a number."),(0,Xe.assert)(e>0,"Byte length must be greater than 0."),(0,Xe.assert)(fw(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}he.signedBigIntToBytes=hw;function Kd(t){(0,Xe.assert)(typeof t=="number","Value must be a number."),(0,Xe.assert)(t>=0,"Value must be a non-negative number."),(0,Xe.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return ws(e)}he.numberToBytes=Kd;function Xd(t){return(0,Xe.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}he.stringToBytes=Xd;function ep(t){if(typeof t=="bigint")return Yd(t);if(typeof t=="number")return Kd(t);if(typeof t=="string")return t.startsWith("0x")?ws(t):Xd(t);if(su(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}he.valueToBytes=ep;function dw(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=ep(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}he.concatBytes=dw;function pw(t){if(typeof ne.Buffer<"u"&&t instanceof ne.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}he.createDataView=pw;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.ChecksumStruct=void 0;const lf=Tr,bw=si;_s.ChecksumStruct=(0,lf.size)((0,bw.base64)((0,lf.string)(),{paddingRequired:!0}),44,44);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.createHex=Tt.createBytes=Tt.createBigInt=Tt.createNumber=void 0;const we=Tr,gw=De,tp=he,Ss=oi,rp=(0,we.union)([(0,we.number)(),(0,we.bigint)(),(0,we.string)(),Ss.StrictHexStruct]),yw=(0,we.coerce)((0,we.number)(),rp,Number),vw=(0,we.coerce)((0,we.bigint)(),rp,BigInt);(0,we.union)([Ss.StrictHexStruct,(0,we.instance)(Uint8Array)]);const mw=(0,we.coerce)((0,we.instance)(Uint8Array),(0,we.union)([Ss.StrictHexStruct]),tp.hexToBytes),ww=(0,we.coerce)(Ss.StrictHexStruct,(0,we.instance)(Uint8Array),tp.bytesToHex);function _w(t){try{const e=(0,we.create)(t,yw);return(0,gw.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof we.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}Tt.createNumber=_w;function Sw(t){try{return(0,we.create)(t,vw)}catch(e){throw e instanceof we.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}Tt.createBigInt=Sw;function Ew(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,we.create)(t,mw)}catch(e){throw e instanceof we.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Tt.createBytes=Ew;function xw(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,we.create)(t,ww)}catch(e){throw e instanceof we.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Tt.createHex=xw;var nn={},np=Z&&Z.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},qe=Z&&Z.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},dt,xt;Object.defineProperty(nn,"__esModule",{value:!0});nn.FrozenSet=nn.FrozenMap=void 0;class ou{constructor(e){dt.set(this,void 0),np(this,dt,new Map(e),"f"),Object.freeze(this)}get size(){return qe(this,dt,"f").size}[(dt=new WeakMap,Symbol.iterator)](){return qe(this,dt,"f")[Symbol.iterator]()}entries(){return qe(this,dt,"f").entries()}forEach(e,r){return qe(this,dt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return qe(this,dt,"f").get(e)}has(e){return qe(this,dt,"f").has(e)}keys(){return qe(this,dt,"f").keys()}values(){return qe(this,dt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}nn.FrozenMap=ou;class au{constructor(e){xt.set(this,void 0),np(this,xt,new Set(e),"f"),Object.freeze(this)}get size(){return qe(this,xt,"f").size}[(xt=new WeakMap,Symbol.iterator)](){return qe(this,xt,"f")[Symbol.iterator]()}entries(){return qe(this,xt,"f").entries()}forEach(e,r){return qe(this,xt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return qe(this,xt,"f").has(e)}keys(){return qe(this,xt,"f").keys()}values(){return qe(this,xt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}nn.FrozenSet=au;Object.freeze(ou);Object.freeze(ou.prototype);Object.freeze(au);Object.freeze(au.prototype);var ip={},cu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return Boolean(u)&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((f,b)=>o(b)?f+1:f+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(cu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Tr,r=De,n=cu;t.JsonStruct=(0,e.define)("Json",L=>{const[F]=N(L,!0);return F?!0:"Expected a valid JSON-serializable value"});function i(L){return(0,e.is)(L,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(L){return(0,e.is)(L,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(L,F){(0,r.assertStruct)(L,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",F)}t.assertIsJsonRpcNotification=o;function a(L){return(0,e.is)(L,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(L,F){(0,r.assertStruct)(L,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",F)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(L){return(0,e.is)(L,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(L,F){(0,r.assertStruct)(L,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",F)}t.assertIsPendingJsonRpcResponse=l;function h(L){return(0,e.is)(L,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=h;function f(L,F){(0,r.assertStruct)(L,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",F)}t.assertIsJsonRpcResponse=f;function b(L){return(0,e.is)(L,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=b;function _(L,F){(0,r.assertStruct)(L,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",F)}t.assertIsJsonRpcSuccess=_;function O(L){return(0,e.is)(L,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=O;function R(L,F){(0,r.assertStruct)(L,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",F)}t.assertIsJsonRpcFailure=R;function E(L){return(0,e.is)(L,t.JsonRpcErrorStruct)}t.isJsonRpcError=E;function C(L,F){(0,r.assertStruct)(L,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",F)}t.assertIsJsonRpcError=C;function I(L){const{permitEmptyString:F,permitFractions:J,permitNull:G}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},L);return Y=>Boolean(typeof Y=="number"&&(J||Number.isInteger(Y))||typeof Y=="string"&&(F||Y.length>0)||G&&Y===null)}t.getJsonRpcIdValidator=I;function N(L,F=!1){const J=new Set;function G(U,Y){if(U===void 0)return[!1,0];if(U===null)return[!0,Y?0:n.JsonSize.Null];const ie=typeof U;try{if(ie==="function")return[!1,0];if(ie==="string"||U instanceof String)return[!0,Y?0:(0,n.calculateStringSize)(U)+n.JsonSize.Quote*2];if(ie==="boolean"||U instanceof Boolean)return Y?[!0,0]:[!0,U==!0?n.JsonSize.True:n.JsonSize.False];if(ie==="number"||U instanceof Number)return Y?[!0,0]:[!0,(0,n.calculateNumberSize)(U)];if(U instanceof Date)return Y?[!0,0]:[!0,isNaN(U.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(U)&&!Array.isArray(U))return[!1,0];if(J.has(U))return[!1,0];J.add(U);try{return[!0,Object.entries(U).reduce((K,[$,M],V,H)=>{let[m,w]=G(M,Y);if(!m)throw new Error("JSON validation did not pass. Validation process stopped.");if(J.delete(U),Y)return 0;const x=Array.isArray(U)?0:$.length+n.JsonSize.Comma+n.JsonSize.Colon*2,k=V<H.length-1?n.JsonSize.Comma:0;return K+x+w+k},Y?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return G(L,F)}t.validateJsonAndGetSize=N})(ip);var sn={},Cw=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});sn.createModuleLogger=sn.createProjectLogger=void 0;const Rw=Cw(dc.exports),Iw=(0,Rw.default)("metamask");function Aw(t){return Iw.extend(t)}sn.createProjectLogger=Aw;function Ow(t,e){return t.extend(e)}sn.createModuleLogger=Ow;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.hexToBigInt=Mt.hexToNumber=Mt.bigIntToHex=Mt.numberToHex=void 0;const Qr=De,Vn=oi,Tw=t=>((0,Qr.assert)(typeof t=="number","Value must be a number."),(0,Qr.assert)(t>=0,"Value must be a non-negative number."),(0,Qr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Vn.add0x)(t.toString(16)));Mt.numberToHex=Tw;const Mw=t=>((0,Qr.assert)(typeof t=="bigint","Value must be a bigint."),(0,Qr.assert)(t>=0,"Value must be a non-negative bigint."),(0,Vn.add0x)(t.toString(16)));Mt.bigIntToHex=Mw;const kw=t=>{(0,Vn.assertIsHexString)(t);const e=parseInt(t,16);return(0,Qr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};Mt.hexToNumber=kw;const Nw=t=>((0,Vn.assertIsHexString)(t),BigInt((0,Vn.add0x)(t)));Mt.hexToBigInt=Nw;var sp={};Object.defineProperty(sp,"__esModule",{value:!0});var op={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(op);var ap={};const ff=Qe,Lw=(t,e,r=!1)=>{if(t instanceof ff)return t;try{return new ff(t,e)}catch(n){if(!r)return null;throw n}};var wn=Lw;const Pw=wn,jw=(t,e)=>{const r=Pw(t,e);return r?r.version:null};var Dw=jw;const $w=wn,Bw=(t,e)=>{const r=$w(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Fw=Bw;const hf=Qe,Ww=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new hf(t instanceof hf?t.version:t,r).inc(e,n,i).version}catch{return null}};var Uw=Ww;const df=wn,Vw=(t,e)=>{const r=df(t,null,!0),n=df(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length,u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":c?"prerelease":a.patch?"patch":a.minor?"minor":"major"};var Hw=Vw;const zw=Qe,qw=(t,e)=>new zw(t,e).major;var Gw=qw;const Jw=Qe,Qw=(t,e)=>new Jw(t,e).minor;var Zw=Qw;const Yw=Qe,Kw=(t,e)=>new Yw(t,e).patch;var Xw=Kw;const e_=wn,t_=(t,e)=>{const r=e_(t,e);return r&&r.prerelease.length?r.prerelease:null};var r_=t_;const n_=wt,i_=(t,e,r)=>n_(e,t,r);var s_=i_;const o_=wt,a_=(t,e)=>o_(t,e,!0);var c_=a_;const pf=Qe,u_=(t,e,r)=>{const n=new pf(t,r),i=new pf(e,r);return n.compare(i)||n.compareBuild(i)};var uu=u_;const l_=uu,f_=(t,e)=>t.sort((r,n)=>l_(r,n,e));var h_=f_;const d_=uu,p_=(t,e)=>t.sort((r,n)=>d_(n,r,e));var b_=p_;const g_=Qe,y_=wn,{re:Ci,t:Ri}=_r.exports,v_=(t,e)=>{if(t instanceof g_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Ci[Ri.COERCE]);else{let n;for(;(n=Ci[Ri.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ci[Ri.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ci[Ri.COERCERTL].lastIndex=-1}return r===null?null:y_(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var m_=v_;const w_=_t(),__=(t,e)=>new w_(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var S_=__;const E_=Qe,x_=_t(),C_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new x_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new E_(n,r))}),n};var R_=C_;const I_=Qe,A_=_t(),O_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new A_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new I_(n,r))}),n};var T_=O_;const za=Qe,M_=_t(),bf=rs,k_=(t,e)=>{t=new M_(t,e);let r=new za("0.0.0");if(t.test(r)||(r=new za("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new za(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||bf(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||bf(r,s))&&(r=s)}return r&&t.test(r)?r:null};var N_=k_;const L_=_t(),P_=(t,e)=>{try{return new L_(t,e).range||"*"}catch{return null}};var j_=P_;const D_=Qe,cp=ns(),{ANY:$_}=cp,B_=_t(),F_=is,gf=rs,yf=Lc,W_=Pc,U_=Nc,V_=(t,e,r,n)=>{t=new D_(t,n),e=new B_(e,n);let i,s,o,a,c;switch(r){case">":i=gf,s=W_,o=yf,a=">",c=">=";break;case"<":i=yf,s=U_,o=gf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(F_(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const l=e.set[u];let h=null,f=null;if(l.forEach(b=>{b.semver===$_&&(b=new cp(">=0.0.0")),h=h||b,f=f||b,i(b.semver,h.semver,n)?h=b:o(b.semver,f.semver,n)&&(f=b)}),h.operator===a||h.operator===c||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var lu=V_;const H_=lu,z_=(t,e,r)=>H_(t,e,">",r);var q_=z_;const G_=lu,J_=(t,e,r)=>G_(t,e,"<",r);var Q_=J_;const vf=_t(),Z_=(t,e,r)=>(t=new vf(t,r),e=new vf(e,r),t.intersects(e,r));var Y_=Z_;const K_=is,X_=wt;var eS=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((l,h)=>X_(l,h,r));for(const l of o)K_(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,h]of n)l===h?a.push(l):!h&&l===o[0]?a.push("*"):h?l===o[0]?a.push(`<=${h}`):a.push(`${l} - ${h}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const mf=_t(),fu=ns(),{ANY:qa}=fu,Tn=is,hu=wt,tS=(t,e,r={})=>{if(t===e)return!0;t=new mf(t,r),e=new mf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=nS(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},rS=[new fu(">=0.0.0-0")],wf=[new fu(">=0.0.0")],nS=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qa){if(e.length===1&&e[0].semver===qa)return!0;r.includePrerelease?t=rS:t=wf}if(e.length===1&&e[0].semver===qa){if(r.includePrerelease)return!0;e=wf}const n=new Set;let i,s;for(const b of t)b.operator===">"||b.operator===">="?i=_f(i,b,r):b.operator==="<"||b.operator==="<="?s=Sf(s,b,r):n.add(b.semver);if(n.size>1)return null;let o;if(i&&s){if(o=hu(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const b of n){if(i&&!Tn(b,String(i),r)||s&&!Tn(b,String(s),r))return null;for(const _ of e)if(!Tn(b,String(_),r))return!1;return!0}let a,c,u,l,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const b of e){if(l=l||b.operator===">"||b.operator===">=",u=u||b.operator==="<"||b.operator==="<=",i){if(f&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===f.major&&b.semver.minor===f.minor&&b.semver.patch===f.patch&&(f=!1),b.operator===">"||b.operator===">="){if(a=_f(i,b,r),a===b&&a!==i)return!1}else if(i.operator===">="&&!Tn(i.semver,String(b),r))return!1}if(s){if(h&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===h.major&&b.semver.minor===h.minor&&b.semver.patch===h.patch&&(h=!1),b.operator==="<"||b.operator==="<="){if(c=Sf(s,b,r),c===b&&c!==s)return!1}else if(s.operator==="<="&&!Tn(s.semver,String(b),r))return!1}if(!b.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||f||h)},_f=(t,e,r)=>{if(!t)return e;const n=hu(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Sf=(t,e,r)=>{if(!t)return e;const n=hu(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var iS=tS;const Ga=_r.exports,Ef=es,sS=Qe,xf=fh,oS=wn,aS=Dw,cS=Fw,uS=Uw,lS=Hw,fS=Gw,hS=Zw,dS=Xw,pS=r_,bS=wt,gS=s_,yS=c_,vS=uu,mS=h_,wS=b_,_S=rs,SS=Lc,ES=hh,xS=dh,CS=Nc,RS=Pc,IS=ph,AS=m_,OS=ns(),TS=_t(),MS=is,kS=S_,NS=R_,LS=T_,PS=N_,jS=j_,DS=lu,$S=q_,BS=Q_,FS=Y_,WS=eS,US=iS;var VS={parse:oS,valid:aS,clean:cS,inc:uS,diff:lS,major:fS,minor:hS,patch:dS,prerelease:pS,compare:bS,rcompare:gS,compareLoose:yS,compareBuild:vS,sort:mS,rsort:wS,gt:_S,lt:SS,eq:ES,neq:xS,gte:CS,lte:RS,cmp:IS,coerce:AS,Comparator:OS,Range:TS,satisfies:MS,toComparators:kS,maxSatisfying:NS,minSatisfying:LS,minVersion:PS,validRange:jS,outside:DS,gtr:$S,ltr:BS,intersects:FS,simplifyRange:WS,subset:US,SemVer:sS,re:Ga.re,src:Ga.src,tokens:Ga.t,SEMVER_SPEC_VERSION:Ef.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ef.RELEASE_TYPES,compareIdentifiers:xf.compareIdentifiers,rcompareIdentifiers:xf.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=VS,r=Tr,n=De;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,e.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,e.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function i(h){return(0,r.is)(h,t.VersionStruct)}t.isValidSemVerVersion=i;function s(h){return(0,r.is)(h,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(h){(0,n.assertStruct)(h,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(h){(0,n.assertStruct)(h,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(h,f){return(0,e.gt)(h,f)}t.gtVersion=c;function u(h,f){return(0,e.gtr)(h,f)}t.gtRange=u;function l(h,f){return(0,e.satisfies)(h,f,{includePrerelease:!0})}t.satisfiesVersionRange=l})(ap);(function(t){var e=Z&&Z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Z&&Z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(De,t),r(si,t),r(he,t),r(_s,t),r(Tt,t),r(nn,t),r(oi,t),r(ip,t),r(sn,t),r(cu,t),r(Mt,t),r(sp,t),r(op,t),r(ap,t)})(Bd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Bd;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})($d);var up=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ms,"__esModule",{value:!0});ms.PollingBlockTracker=void 0;const HS=up(Kc),zS=up(s1),qS=ni,Cf=$d,Rf=(0,Cf.createModuleLogger)(Cf.projectLogger,"polling-block-tracker"),GS=(0,HS.default)(),JS=1e3;class QS extends qS.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*JS,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=If(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=If(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:GS(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Rf("Making request",e);const r=await(0,zS.default)(n=>this._provider.sendAsync(e,n))();if(Rf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}ms.PollingBlockTracker=QS;function If(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Es={},ZS=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Es,"__esModule",{value:!0});Es.SubscribeBlockTracker=void 0;const YS=ZS(Kc),KS=ni,XS=(0,YS.default)();class e2 extends KS.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:XS(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Es.SubscribeBlockTracker=e2;var lp={};Object.defineProperty(lp,"__esModule",{value:!0});(function(t){var e=Z&&Z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Z&&Z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ms,t),r(Es,t),r(lp,t)})(Dd);var du={},xs={},ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.getUniqueId=void 0;const fp=4294967295;let Ja=Math.floor(Math.random()*fp);function t2(){return Ja=(Ja+1)%fp,Ja}ai.getUniqueId=t2;Object.defineProperty(xs,"__esModule",{value:!0});xs.createIdRemapMiddleware=void 0;const r2=ai;function n2(){return(t,e,r,n)=>{const i=t.id,s=r2.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}xs.createIdRemapMiddleware=n2;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.createAsyncMiddleware=void 0;function i2(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Cs.createAsyncMiddleware=i2;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.createScaffoldMiddleware=void 0;function s2(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Rs.createScaffoldMiddleware=s2;var ci={},hp={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.EthereumProviderError=tr.EthereumRpcError=void 0;const o2=ed;class dp extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return o2.default(this.serialize(),u2,2)}}tr.EthereumRpcError=dp;class a2 extends dp{constructor(e,r,n){if(!c2(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}tr.EthereumProviderError=a2;function c2(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function u2(t,e){if(e!=="[Circular]")return e}var pu={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.errorValues=rr.errorCodes=void 0;rr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};rr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=rr,r=tr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,b=i){if(Number.isInteger(f)){const _=f.toString();if(h(e.errorValues,_))return e.errorValues[_].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const b=f.toString();return!!(e.errorValues[b]||u(f))}t.isValidCode=a;function c(f,{fallbackError:b=s,shouldIncludeStack:_=!1}={}){var O,R;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const E={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const I=f;E.code=I.code,I.message&&typeof I.message=="string"?(E.message=I.message,h(I,"data")&&(E.data=I.data)):(E.message=o(E.code),E.data={originalError:l(f)})}else{E.code=b.code;const I=(O=f)===null||O===void 0?void 0:O.message;E.message=I&&typeof I=="string"?I:b.message,E.data={originalError:l(f)}}const C=(R=f)===null||R===void 0?void 0:R.stack;return _&&f&&C&&typeof C=="string"&&(E.stack=C),E}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,b){return Object.prototype.hasOwnProperty.call(f,b)}})(pu);var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.ethErrors=void 0;const bu=tr,pp=pu,Be=rr;Is.ethErrors={rpc:{parse:t=>nt(Be.errorCodes.rpc.parse,t),invalidRequest:t=>nt(Be.errorCodes.rpc.invalidRequest,t),invalidParams:t=>nt(Be.errorCodes.rpc.invalidParams,t),methodNotFound:t=>nt(Be.errorCodes.rpc.methodNotFound,t),internal:t=>nt(Be.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return nt(e,t)},invalidInput:t=>nt(Be.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>nt(Be.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>nt(Be.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>nt(Be.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>nt(Be.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>nt(Be.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Mn(Be.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Mn(Be.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Mn(Be.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Mn(Be.errorCodes.provider.disconnected,t),chainDisconnected:t=>Mn(Be.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new bu.EthereumProviderError(e,r,n)}}};function nt(t,e){const[r,n]=bp(e);return new bu.EthereumRpcError(t,r||pp.getMessageFromCode(t),n)}function Mn(t,e){const[r,n]=bp(e);return new bu.EthereumProviderError(t,r||pp.getMessageFromCode(t),n)}function bp(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=tr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=pu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Is;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=rr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(hp);var l2=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ci,"__esModule",{value:!0});ci.JsonRpcEngine=void 0;const f2=l2(Ar),it=hp;class $t extends f2.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await $t._runAllMiddleware(e,r,this._middleware);return o?(await $t._runReturnHandlers(a),i(s)):n(async c=>{try{await $t._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new it.EthereumRpcError(it.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new it.EthereumRpcError(it.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=it.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await $t._runAllMiddleware(e,r,this._middleware);if($t._checkForCompletion(e,r,i),await $t._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await $t._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=it.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new it.EthereumRpcError(it.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Qa(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new it.EthereumRpcError(it.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Qa(e)}`,{request:e});if(!n)throw new it.EthereumRpcError(it.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Qa(e)}`,{request:e})}}ci.JsonRpcEngine=$t;function Qa(t){return JSON.stringify(t,null,2)}var As={};Object.defineProperty(As,"__esModule",{value:!0});As.mergeMiddleware=void 0;const h2=ci;function d2(t){const e=new h2.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}As.mergeMiddleware=d2;(function(t){var e=Z&&Z.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Z&&Z.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xs,t),r(Cs,t),r(Rs,t),r(ai,t),r(ci,t),r(As,t)})(du);var gp={},gu={},Os={exports:{}};(function(t){var e,r,n,i,s,o,a,c,u,l,h,f,b,_,O,R,E,C,I,N,L,F,J,G,U,Y,ie,K,$;(function(M){var V=typeof Z=="object"?Z:typeof self=="object"?self:typeof this=="object"?this:{};M(H(V,H(t.exports)));function H(m,w){return m!==V&&(typeof Object.create=="function"?Object.defineProperty(m,"__esModule",{value:!0}):m.__esModule=!0),function(x,k){return m[x]=w?w(x,k):k}}})(function(M){var V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(m[x]=w[x])};e=function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");V(m,w);function x(){this.constructor=m}m.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)},r=Object.assign||function(m){for(var w,x=1,k=arguments.length;x<k;x++){w=arguments[x];for(var P in w)Object.prototype.hasOwnProperty.call(w,P)&&(m[P]=w[P])}return m},n=function(m,w){var x={};for(var k in m)Object.prototype.hasOwnProperty.call(m,k)&&w.indexOf(k)<0&&(x[k]=m[k]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,k=Object.getOwnPropertySymbols(m);P<k.length;P++)w.indexOf(k[P])<0&&Object.prototype.propertyIsEnumerable.call(m,k[P])&&(x[k[P]]=m[k[P]]);return x},i=function(m,w,x,k){var P=arguments.length,g=P<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,x):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(m,w,x,k);else for(var A=m.length-1;A>=0;A--)(S=m[A])&&(g=(P<3?S(g):P>3?S(w,x,g):S(w,x))||g);return P>3&&g&&Object.defineProperty(w,x,g),g},s=function(m,w){return function(x,k){w(x,k,m)}},o=function(m,w,x,k,P,g){function S(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var A=k.kind,Q=A==="getter"?"get":A==="setter"?"set":"value",y=!w&&m?k.static?m:m.prototype:null,v=w||(y?Object.getOwnPropertyDescriptor(y,k.name):{}),T,B=!1,q=x.length-1;q>=0;q--){var d={};for(var p in k)d[p]=p==="access"?{}:k[p];for(var p in k.access)d.access[p]=k.access[p];d.addInitializer=function(z){if(B)throw new TypeError("Cannot add initializers after decoration has completed");g.push(S(z||null))};var j=(0,x[q])(A==="accessor"?{get:v.get,set:v.set}:v[Q],d);if(A==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(T=S(j.get))&&(v.get=T),(T=S(j.set))&&(v.set=T),(T=S(j.init))&&P.unshift(T)}else(T=S(j))&&(A==="field"?P.unshift(T):v[Q]=T)}y&&Object.defineProperty(y,k.name,v),B=!0},a=function(m,w,x){for(var k=arguments.length>2,P=0;P<w.length;P++)x=k?w[P].call(m,x):w[P].call(m);return k?x:void 0},c=function(m){return typeof m=="symbol"?m:"".concat(m)},u=function(m,w,x){return typeof w=="symbol"&&(w=w.description?"[".concat(w.description,"]"):""),Object.defineProperty(m,"name",{configurable:!0,value:x?"".concat(x," ",w):w})},l=function(m,w){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,w)},h=function(m,w,x,k){function P(g){return g instanceof x?g:new x(function(S){S(g)})}return new(x||(x=Promise))(function(g,S){function A(v){try{y(k.next(v))}catch(T){S(T)}}function Q(v){try{y(k.throw(v))}catch(T){S(T)}}function y(v){v.done?g(v.value):P(v.value).then(A,Q)}y((k=k.apply(m,w||[])).next())})},f=function(m,w){var x={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},k,P,g,S;return S={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function A(y){return function(v){return Q([y,v])}}function Q(y){if(k)throw new TypeError("Generator is already executing.");for(;S&&(S=0,y[0]&&(x=0)),x;)try{if(k=1,P&&(g=y[0]&2?P.return:y[0]?P.throw||((g=P.return)&&g.call(P),0):P.next)&&!(g=g.call(P,y[1])).done)return g;switch(P=0,g&&(y=[y[0]&2,g.value]),y[0]){case 0:case 1:g=y;break;case 4:return x.label++,{value:y[1],done:!1};case 5:x.label++,P=y[1],y=[0];continue;case 7:y=x.ops.pop(),x.trys.pop();continue;default:if(g=x.trys,!(g=g.length>0&&g[g.length-1])&&(y[0]===6||y[0]===2)){x=0;continue}if(y[0]===3&&(!g||y[1]>g[0]&&y[1]<g[3])){x.label=y[1];break}if(y[0]===6&&x.label<g[1]){x.label=g[1],g=y;break}if(g&&x.label<g[2]){x.label=g[2],x.ops.push(y);break}g[2]&&x.ops.pop(),x.trys.pop();continue}y=w.call(m,x)}catch(v){y=[6,v],P=0}finally{k=g=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},b=function(m,w){for(var x in m)x!=="default"&&!Object.prototype.hasOwnProperty.call(w,x)&&$(w,m,x)},$=Object.create?function(m,w,x,k){k===void 0&&(k=x);var P=Object.getOwnPropertyDescriptor(w,x);(!P||("get"in P?!w.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return w[x]}}),Object.defineProperty(m,k,P)}:function(m,w,x,k){k===void 0&&(k=x),m[k]=w[x]},_=function(m){var w=typeof Symbol=="function"&&Symbol.iterator,x=w&&m[w],k=0;if(x)return x.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&k>=m.length&&(m=void 0),{value:m&&m[k++],done:!m}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(m,w){var x=typeof Symbol=="function"&&m[Symbol.iterator];if(!x)return m;var k=x.call(m),P,g=[],S;try{for(;(w===void 0||w-- >0)&&!(P=k.next()).done;)g.push(P.value)}catch(A){S={error:A}}finally{try{P&&!P.done&&(x=k.return)&&x.call(k)}finally{if(S)throw S.error}}return g},R=function(){for(var m=[],w=0;w<arguments.length;w++)m=m.concat(O(arguments[w]));return m},E=function(){for(var m=0,w=0,x=arguments.length;w<x;w++)m+=arguments[w].length;for(var k=Array(m),P=0,w=0;w<x;w++)for(var g=arguments[w],S=0,A=g.length;S<A;S++,P++)k[P]=g[S];return k},C=function(m,w,x){if(x||arguments.length===2)for(var k=0,P=w.length,g;k<P;k++)(g||!(k in w))&&(g||(g=Array.prototype.slice.call(w,0,k)),g[k]=w[k]);return m.concat(g||Array.prototype.slice.call(w))},I=function(m){return this instanceof I?(this.v=m,this):new I(m)},N=function(m,w,x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=x.apply(m,w||[]),P,g=[];return P={},S("next"),S("throw"),S("return"),P[Symbol.asyncIterator]=function(){return this},P;function S(B){k[B]&&(P[B]=function(q){return new Promise(function(d,p){g.push([B,q,d,p])>1||A(B,q)})})}function A(B,q){try{Q(k[B](q))}catch(d){T(g[0][3],d)}}function Q(B){B.value instanceof I?Promise.resolve(B.value.v).then(y,v):T(g[0][2],B)}function y(B){A("next",B)}function v(B){A("throw",B)}function T(B,q){B(q),g.shift(),g.length&&A(g[0][0],g[0][1])}},L=function(m){var w,x;return w={},k("next"),k("throw",function(P){throw P}),k("return"),w[Symbol.iterator]=function(){return this},w;function k(P,g){w[P]=m[P]?function(S){return(x=!x)?{value:I(m[P](S)),done:!1}:g?g(S):S}:g}},F=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w=m[Symbol.asyncIterator],x;return w?w.call(m):(m=typeof _=="function"?_(m):m[Symbol.iterator](),x={},k("next"),k("throw"),k("return"),x[Symbol.asyncIterator]=function(){return this},x);function k(g){x[g]=m[g]&&function(S){return new Promise(function(A,Q){S=m[g](S),P(A,Q,S.done,S.value)})}}function P(g,S,A,Q){Promise.resolve(Q).then(function(y){g({value:y,done:A})},S)}},J=function(m,w){return Object.defineProperty?Object.defineProperty(m,"raw",{value:w}):m.raw=w,m};var H=Object.create?function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}:function(m,w){m.default=w};G=function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var x in m)x!=="default"&&Object.prototype.hasOwnProperty.call(m,x)&&$(w,m,x);return H(w,m),w},U=function(m){return m&&m.__esModule?m:{default:m}},Y=function(m,w,x,k){if(x==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof w=="function"?m!==w||!k:!w.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?k:x==="a"?k.call(m):k?k.value:w.get(m)},ie=function(m,w,x,k,P){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof w=="function"?m!==w||!P:!w.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?P.call(m,x):P?P.value=x:w.set(m,x),x},K=function(m,w){if(w===null||typeof w!="object"&&typeof w!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof m=="function"?w===m:m.has(w)},M("__extends",e),M("__assign",r),M("__rest",n),M("__decorate",i),M("__param",s),M("__esDecorate",o),M("__runInitializers",a),M("__propKey",c),M("__setFunctionName",u),M("__metadata",l),M("__awaiter",h),M("__generator",f),M("__exportStar",b),M("__createBinding",$),M("__values",_),M("__read",O),M("__spread",R),M("__spreadArrays",E),M("__spreadArray",C),M("__await",I),M("__asyncGenerator",N),M("__asyncDelegator",L),M("__asyncValues",F),M("__makeTemplateObject",J),M("__importStar",G),M("__importDefault",U),M("__classPrivateFieldGet",Y),M("__classPrivateFieldSet",ie),M("__classPrivateFieldIn",K)})})(Os);var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});var Af=Os.exports,p2=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Af.__awaiter(this,void 0,void 0,function(){var r,n,i;return Af.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ts.default=p2;Object.defineProperty(gu,"__esModule",{value:!0});var Of=Os.exports,b2=Ts,g2=function(){function t(){this._semaphore=new b2.default(1)}return t.prototype.acquire=function(){return Of.__awaiter(this,void 0,void 0,function(){var e,r;return Of.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();gu.default=g2;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.withTimeout=void 0;var Ii=Os.exports;function y2(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ii.__awaiter(n,void 0,void 0,function(){var o,a,c;return Ii.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Ii.__awaiter(this,void 0,void 0,function(){var s,o;return Ii.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Ms.withTimeout=y2;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=gu;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ts;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Ms;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(gp);var v2=w2,m2=Object.prototype.hasOwnProperty;function w2(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)m2.call(r,n)&&(t[n]=r[n])}return t}const _2=v2,S2=Kc();var E2=re;function re(t){const e=this;e.currentProvider=t}re.prototype.getBalance=ui(2,"eth_getBalance");re.prototype.getCode=ui(2,"eth_getCode");re.prototype.getTransactionCount=ui(2,"eth_getTransactionCount");re.prototype.getStorageAt=ui(3,"eth_getStorageAt");re.prototype.call=ui(2,"eth_call");re.prototype.protocolVersion=ue("eth_protocolVersion");re.prototype.syncing=ue("eth_syncing");re.prototype.coinbase=ue("eth_coinbase");re.prototype.mining=ue("eth_mining");re.prototype.hashrate=ue("eth_hashrate");re.prototype.gasPrice=ue("eth_gasPrice");re.prototype.accounts=ue("eth_accounts");re.prototype.blockNumber=ue("eth_blockNumber");re.prototype.getBlockTransactionCountByHash=ue("eth_getBlockTransactionCountByHash");re.prototype.getBlockTransactionCountByNumber=ue("eth_getBlockTransactionCountByNumber");re.prototype.getUncleCountByBlockHash=ue("eth_getUncleCountByBlockHash");re.prototype.getUncleCountByBlockNumber=ue("eth_getUncleCountByBlockNumber");re.prototype.sign=ue("eth_sign");re.prototype.sendTransaction=ue("eth_sendTransaction");re.prototype.sendRawTransaction=ue("eth_sendRawTransaction");re.prototype.estimateGas=ue("eth_estimateGas");re.prototype.getBlockByHash=ue("eth_getBlockByHash");re.prototype.getBlockByNumber=ue("eth_getBlockByNumber");re.prototype.getTransactionByHash=ue("eth_getTransactionByHash");re.prototype.getTransactionByBlockHashAndIndex=ue("eth_getTransactionByBlockHashAndIndex");re.prototype.getTransactionByBlockNumberAndIndex=ue("eth_getTransactionByBlockNumberAndIndex");re.prototype.getTransactionReceipt=ue("eth_getTransactionReceipt");re.prototype.getUncleByBlockHashAndIndex=ue("eth_getUncleByBlockHashAndIndex");re.prototype.getUncleByBlockNumberAndIndex=ue("eth_getUncleByBlockNumberAndIndex");re.prototype.getCompilers=ue("eth_getCompilers");re.prototype.compileLLL=ue("eth_compileLLL");re.prototype.compileSolidity=ue("eth_compileSolidity");re.prototype.compileSerpent=ue("eth_compileSerpent");re.prototype.newFilter=ue("eth_newFilter");re.prototype.newBlockFilter=ue("eth_newBlockFilter");re.prototype.newPendingTransactionFilter=ue("eth_newPendingTransactionFilter");re.prototype.uninstallFilter=ue("eth_uninstallFilter");re.prototype.getFilterChanges=ue("eth_getFilterChanges");re.prototype.getFilterLogs=ue("eth_getFilterLogs");re.prototype.getLogs=ue("eth_getLogs");re.prototype.getWork=ue("eth_getWork");re.prototype.submitWork=ue("eth_submitWork");re.prototype.submitHashrate=ue("eth_submitHashrate");re.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(x2(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ue(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ui(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function x2(t){return _2({id:S2(),jsonrpc:"2.0",params:[]},t)}const Tf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Mf=new WeakMap;var C2=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Mf.get(o);if(c||(c={},Mf.set(o,c)),a in c)return c[a];const u=_=>typeof _=="string"||typeof a=="symbol"?a===_:_.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),h=l===void 0||l.writable||l.configurable,b=(e.include?e.include.some(u):!e.exclude.some(u))&&h;return c[a]=b,b},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Tf(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Tf(c,e,s,o);return i.set(c,l),l}return c}});return s};const R2=Ar.default;class I2 extends R2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var yu=I2;const A2=yu;class O2 extends A2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var T2=O2,li={minBlockRef:M2,maxBlockRef:k2,sortBlockRefs:vu,bnToHex:N2,blockRefIsNumber:L2,hexToInt:Gi,incrementHexInt:P2,intToHex:yp,unsafeRandomBytes:j2};function M2(...t){return vu(t)[0]}function k2(...t){const e=vu(t);return e[e.length-1]}function vu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Gi(e)-Gi(r))}function N2(t){return"0x"+t.toString(16)}function L2(t){return t&&!["earliest","latest","pending"].includes(t)}function Gi(t){return t==null?t:Number.parseInt(t,16)}function P2(t){if(t==null)return t;const e=Gi(t);return yp(e+1)}function yp(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function j2(t){let e="0x";for(let r=0;r<t;r++)e+=kf(),e+=kf();return e}function kf(){return Math.floor(Math.random()*16).toString(16)}const D2=E2,$2=C2,B2=T2,{bnToHex:aA,hexToInt:Ai,incrementHexInt:F2,minBlockRef:W2,blockRefIsNumber:U2}=li;class V2 extends B2{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new D2(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=W2(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=F2(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await $2(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ai(this.params.fromBlock)>=Ai(e.blockNumber)||U2(this.params.toBlock)&&Ai(this.params.toBlock)<=Ai(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var H2=V2,mu=z2;async function z2({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Nf(e),s=Nf(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(q2);return await Promise.all(o.map(c=>J2(t,"eth_getBlockByNumber",[c,!1])))}function Nf(t){return t==null?t:Number.parseInt(t,16)}function q2(t){return t==null?t:"0x"+t.toString(16)}function G2(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function J2(t,e,r){for(let n=0;n<3;n++)try{return await G2(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const Q2=yu,Z2=mu,{incrementHexInt:Y2}=li;class K2 extends Q2{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Y2(e),o=(await Z2({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var X2=K2;const eE=yu,tE=mu,{incrementHexInt:rE}=li;class nE extends eE{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=rE(e),i=await tE({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var iE=nE;const sE=gp.Mutex,{createAsyncMiddleware:oE,createScaffoldMiddleware:aE}=du,cE=H2,uE=X2,lE=iE,{intToHex:vp,hexToInt:Za}=li;var fE=hE;function hE({blockTracker:t,provider:e}){let r=0,n={};const i=new sE,s=dE({mutex:i}),o=aE({eth_newFilter:s(Ya(c)),eth_newBlockFilter:s(Ya(u)),eth_newPendingTransactionFilter:s(Ya(l)),eth_uninstallFilter:s($i(b)),eth_getFilterChanges:s($i(h)),eth_getFilterLogs:s($i(f))}),a=async({oldBlock:C,newBlock:I})=>{if(n.length===0)return;const N=await i.acquire();try{await Promise.all($r(n).map(async L=>{try{await L.update({oldBlock:C,newBlock:I})}catch(F){console.error(F)}}))}catch(L){console.error(L)}N()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=b,o.getFilterChanges=h,o.getFilterLogs=f,o.destroy=()=>{R()},o;async function c(C){const I=new cE({provider:e,params:C});return await _(I),I}async function u(){const C=new uE({provider:e});return await _(C),C}async function l(){const C=new lE({provider:e});return await _(C),C}async function h(C){const I=Za(C),N=n[I];if(!N)throw new Error(`No filter for index "${I}"`);return N.getChangesAndClear()}async function f(C){const I=Za(C),N=n[I];if(!N)throw new Error(`No filter for index "${I}"`);let L=[];return N.type==="log"&&(L=N.getAllResults()),L}async function b(C){const I=Za(C),N=n[I],L=Boolean(N);return L&&await O(I),L}async function _(C){const I=$r(n).length,N=await t.getLatestBlock();await C.initialize({currentBlock:N}),r++,n[r]=C,C.id=r,C.idHex=vp(r);const L=$r(n).length;return E({prevFilterCount:I,newFilterCount:L}),r}async function O(C){const I=$r(n).length;delete n[C];const N=$r(n).length;E({prevFilterCount:I,newFilterCount:N})}async function R(){const C=$r(n).length;n={},E({prevFilterCount:C,newFilterCount:0})}function E({prevFilterCount:C,newFilterCount:I}){if(C===0&&I>0){t.on("sync",a);return}if(C>0&&I===0){t.removeListener("sync",a);return}}}function Ya(t){return $i(async(...e)=>{const r=await t(...e);return vp(r.id)})}function $i(t){return oE(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function dE({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function $r(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const pE=Ar.default,{createAsyncMiddleware:Lf,createScaffoldMiddleware:bE}=du,gE=fE,{unsafeRandomBytes:yE,incrementHexInt:vE}=li,mE=mu;var wE=_E;function _E({blockTracker:t,provider:e}){const r={},n=gE({blockTracker:t,provider:e});let i=!1;const s=new pE,o=bE({eth_subscribe:Lf(a),eth_unsubscribe:Lf(c)});return o.destroy=l,{events:s,middleware:o};async function a(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=h.params[0],_=yE(16);let O;switch(b){case"newHeads":O=R({subId:_});break;case"logs":const C=h.params[1],I=await n.newLogFilter(C);O=E({subId:_,filter:I});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${b}"`)}r[_]=O,f.result=_;return;function R({subId:C}){const I={type:b,destroy:async()=>{t.removeListener("sync",I.update)},update:async({oldBlock:N,newBlock:L})=>{const F=L,J=vE(N);(await mE({provider:e,fromBlock:J,toBlock:F})).map(SE).filter(Y=>Y!==null).forEach(Y=>{u(C,Y)})}};return t.on("sync",I.update),I}function E({subId:C,filter:I}){return I.on("update",L=>u(C,L)),{type:b,destroy:async()=>await n.uninstallFilter(I.idHex)}}}async function c(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=h.params[0],_=r[b];if(!_){f.result=!1;return}delete r[b],await _.destroy(),f.result=!0}function u(h,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:f}})}function l(){s.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];i=!0}}function SE(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(vs,"__esModule",{value:!0});vs.SubscriptionManager=void 0;const EE=Dd,xE=wE,Pf=()=>{};class CE{constructor(e){const r=new EE.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=xE({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Pf,Pf),r}destroy(){this.subscriptionMiddleware.destroy()}}vs.SubscriptionManager=CE;var wu=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.CoinbaseWalletProvider=void 0;const RE=wu(Ar),IE=wu(Xi.exports),Fe=ps,Ka=bn,jf=gn,Df=mt,oe=X,Xa=wu(e1),AE=rn,ge=jd,OE=vs,$f="DefaultChainId",Bf="DefaultJsonRpcUrl";class TE extends RE.default{constructor(e){var r,n;super(),this._filterPolyfill=new AE.FilterPolyfill(this),this._subscriptionManager=new OE.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,oe.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Df.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,oe.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,oe.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Bf))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Bf,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem($f,r.toString(10)),((0,oe.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,oe.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const h=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Fe.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ka.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?jf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(ge.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Fe.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Fe.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Fe.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,oe.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,oe.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Df.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ge.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ge.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ge.JSONRPCMethod.net_version:return this._net_version();case ge.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ge.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ge.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ge.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ge.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ge.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ge.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ge.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ge.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ge.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ge.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ge.JSONRPCMethod.eth_signTypedData_v4:case ge.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ge.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ge.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ge.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ge.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ge.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ge.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ge.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ge.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ge.JSONRPCMethod.eth_subscribe:case ge.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,oe.ensureAddressString)(e);return this._addresses.map(i=>(0,oe.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ka.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,oe.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,oe.ensureAddressString)(e.to):null,i=e.value!=null?(0,oe.ensureBN)(e.value):new IE.default(0),s=e.data?(0,oe.ensureBuffer)(e.data):ne.Buffer.alloc(0),o=e.nonce!=null?(0,oe.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,oe.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,oe.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,oe.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,oe.ensureBN)(e.gas):null,h=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Fe.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Fe.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Fe.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,oe.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem($f);if(!e)return(0,oe.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,oe.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ka.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?jf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Fe.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,oe.ensureAddressString)(e[0]),n=(0,oe.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,oe.ensureBuffer)(e[0]),n=(0,oe.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,oe.ensureBuffer)(e[0]),n=(0,oe.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,oe.ensureBuffer)(e[0]),n=(0,oe.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Fe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,oe.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Fe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,oe.ensureParsedJSONObject)(e[0]),n=(0,oe.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Xa.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,oe.ensureAddressString)(e[0]),n=(0,oe.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Xa.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,oe.ensureAddressString)(e[0]),n=(0,oe.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Xa.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Fe.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw Fe.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Fe.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw Fe.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw Fe.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw Fe.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,oe.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,oe.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,oe.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Xr.CoinbaseWalletProvider=TE;var ks={},Ns={};const tt=Rr(E0);function on(t){return typeof t=="function"}var Ff=!1,st={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Ff=t},get useDeprecatedSynchronousErrorHandling(){return Ff}};function Vr(t){setTimeout(function(){throw t},0)}var Ji={closed:!0,next:function(t){},error:function(t){if(st.useDeprecatedSynchronousErrorHandling)throw t;Vr(t)},complete:function(){}},Ge=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function _u(t){return t!==null&&typeof t=="object"}var ME=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Fn=ME,_e=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(on(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(h){e=h instanceof Fn?Wf(h.errors):[h]}}if(Ge(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(_u(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Fn?e=e.concat(Wf(f.errors)):e.push(f)}}if(e)throw new Fn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Wf(t){return t.reduce(function(e,r){return e.concat(r instanceof Fn?r.errors:r)},[])}var Qi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ee=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Ji;break;case 1:if(!r){s.destination=Ji;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Uf(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Uf(s,r,n,i);break}return s}return e.prototype[Qi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(_e),Uf=function(t){W.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return on(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Ji&&(c=Object.create(n),on(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!st.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=st.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Vr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Vr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!st.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),st.useDeprecatedSynchronousErrorHandling)throw i;Vr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!st.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return st.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Vr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(ee);function Su(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof ee?t=n:t=null}return!0}function kE(t,e,r){if(t){if(t instanceof ee)return t;if(t[Qi])return t[Qi]()}return!t&&!e&&!r?new ee(Ji):new ee(t,e,r)}var _n=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nr(t){return t}function xc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mp(t)}function mp(t){return t.length===0?nr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ae=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=kE(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||st.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),st.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){st.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Su(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Vf(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[_n]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:mp(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Vf(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Vf(t){if(t||(t=st.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var NE=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Zt=NE,wp=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(_e),_p=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(ee),Pe=function(t){W.exports.__extends(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Qi]=function(){return new _p(this)},e.prototype.lift=function(r){var n=new Hf(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Zt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Zt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Zt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Zt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Zt;return this.hasError?(r.error(this.thrownError),_e.EMPTY):this.isStopped?(r.complete(),_e.EMPTY):(this.observers.push(r),new wp(this,r))},e.prototype.asObservable=function(){var r=new ae;return r.source=this,r},e.create=function(r,n){return new Hf(r,n)},e}(ae),Hf=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):_e.EMPTY},e}(Pe);function Eu(){return function(e){return e.lift(new LE(e))}}var LE=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new PE(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),PE=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(ee),Sp=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new _e,r.add(this.source.subscribe(new DE(this.getSubject(),this))),r.closed&&(this._connection=null,r=_e.EMPTY)),r},e.prototype.refCount=function(){return Eu()(this)},e}(ae),jE=function(){var t=Sp.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),DE=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(_p);function $E(t,e,r,n){return function(i){return i.lift(new BE(t,e,r,n))}}var BE=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new FE(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),FE=function(t){W.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Pe,i.set(n,s);var a=new Cc(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Cc(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new WE(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ee),WE=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ee),Cc=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new _e,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new UE(s)),n.add(o.subscribe(r)),n},e}(ae),UE=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(_e),Ep=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Zt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Pe),VE=function(t){W.exports.__extends(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(_e),fi=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(VE),HE=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(fi),Rc=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),hi=function(t){W.exports.__extends(e,t);function e(r,n){n===void 0&&(n=Rc.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Rc),zE=function(t){W.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(hi),xp=new zE(HE),Cp=xp,an=new ae(function(t){return t.complete()});function Sn(t){return t?qE(t):an}function qE(t){return new ae(function(e){return t.schedule(function(){return e.complete()})})}function et(t){return t&&typeof t.schedule=="function"}var Rp=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function xu(t,e){return new ae(function(r){var n=new _e,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function di(t,e){return e?xu(t,e):new ae(Rp(t))}function Ls(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return et(r)?(t.pop(),xu(t,r)):di(t)}function Cu(t,e){return e?new ae(function(r){return e.schedule(GE,0,{error:t,subscriber:r})}):new ae(function(r){return r.error(t)})}function GE(t){var e=t.error,r=t.subscriber;r.error(e)}var Ic;Ic||(Ic={});var Wt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ls(this.value);case"E":return Cu(this.error);case"C":return Sn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function JE(t,e){return e===void 0&&(e=0),function(n){return n.lift(new QE(t,e))}}var QE=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Ip(e,this.scheduler,this.delay))},t}(),Ip=function(t){W.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new ZE(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Wt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Wt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Wt.createComplete()),this.unsubscribe()},e}(ee),ZE=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Ru=function(t){W.exports.__extends(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new YE(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Zt;if(this.isStopped||this.hasError?a=_e.EMPTY:(this.observers.push(r),a=new wp(this,r)),s&&r.add(r=new Ip(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Cp).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Pe),YE=function(){function t(e,r){this.time=e,this.value=r}return t}(),En=function(t){W.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),_e.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),_e.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Pe),KE=1,XE=function(){return Promise.resolve()}(),Ac={};function zf(t){return t in Ac?(delete Ac[t],!0):!1}var qf={setImmediate:function(t){var e=KE++;return Ac[e]=!0,XE.then(function(){return zf(e)&&t()}),e},clearImmediate:function(t){zf(t)}},e3=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=qf.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(qf.clearImmediate(n),r.scheduled=void 0)},e}(fi),t3=function(t){W.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(hi),Ap=new t3(e3),Bi=Ap,Op=new hi(fi),Je=Op,r3=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(fi),n3=function(t){W.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(hi),Tp=new n3(r3),i3=Tp,s3=function(t){W.exports.__extends(e,t);function e(r,n){r===void 0&&(r=Mp),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(hi),Mp=function(t){W.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(fi);function It(){}function o3(t){return!!t&&(t instanceof ae||typeof t.lift=="function"&&typeof t.subscribe=="function")}var a3=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),cn=a3,c3=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),pi=c3,u3=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),kp=u3;function ft(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new l3(t,e))}}var l3=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new f3(e,this.project,this.thisArg))},t}(),f3=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee);function Np(t,e,r){if(e)if(et(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Np(t,r).apply(void 0,n).pipe(ft(function(s){return Ge(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ae(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(h3,0,l)}else{if(!o){o=new En;var u=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];o.next(h.length<=1?h[0]:h),o.complete()};try{t.apply(s,n.concat([u]))}catch(h){Su(o)?o.error(h):console.warn(h)}}return o.subscribe(c)}})}}function h3(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new En;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.length<=1?l[0]:l;e.add(a.schedule(d3,0,{value:f,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function d3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Lp(t,e,r){if(e)if(et(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Lp(t,r).apply(void 0,n).pipe(ft(function(s){return Ge(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ae(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(p3,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new En;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){Su(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function p3(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new En;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f)e.add(a.schedule(Gf,0,{err:f,subject:c}));else{var b=l.length<=1?l[0]:l;e.add(a.schedule(b3,0,{value:b,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(Gf,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function b3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Gf(t){var e=t.err,r=t.subject;r.error(e)}var Mr=function(t){W.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(ee),g3=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ee),y3=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Vr),e}};function v3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ir=v3(),m3=function(t){return function(e){var r=t[ir]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},w3=function(t){return function(e){var r=t[_n]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Pp=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function jp(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Hn=function(t){if(!!t&&typeof t[_n]=="function")return w3(t);if(Pp(t))return Rp(t);if(jp(t))return y3(t);if(!!t&&typeof t[ir]=="function")return m3(t);var e=_u(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Ut(t,e,r,n,i){if(i===void 0&&(i=new g3(t,r,n)),!i.closed)return e instanceof ae?e.subscribe(i):Hn(e)(i)}var Jf={};function _3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return et(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ge(t[0])&&(t=t[0]),di(t,n).lift(new Iu(r))}var Iu=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new S3(e,this.resultSelector))},t}(),S3=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Jf),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Ut(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Jf?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Mr);function E3(t,e){return new ae(function(r){var n=new _e;return n.add(e.schedule(function(){var i=t[_n]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function x3(t,e){return new ae(function(r){var n=new _e;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function C3(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(function(r){var n=new _e,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[ir](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function R3(t){return t&&typeof t[_n]=="function"}function I3(t){return t&&typeof t[ir]=="function"}function Dp(t,e){if(t!=null){if(R3(t))return E3(t,e);if(jp(t))return x3(t,e);if(Pp(t))return xu(t,e);if(I3(t)||typeof t=="string")return C3(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Vt(t,e){return e?Dp(t,e):t instanceof ae?t:new ae(Hn(t))}var Se=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ee),Ee=function(t){W.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ee);function xe(t,e){if(!e.closed){if(t instanceof ae)return t.subscribe(e);var r;try{r=Hn(t)(e)}catch(n){e.error(n)}return r}}function xr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(xr(function(i,s){return Vt(t(i,s)).pipe(ft(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new A3(t,r))})}var A3=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new O3(e,this.project,this.concurrent))},t}(),O3=function(t){W.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Se(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Ee),T3=xr;function Au(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),xr(nr,t)}function $p(){return Au(1)}function zn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $p()(Ls.apply(void 0,t))}function Ou(t){return new ae(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Vt(r):Sn();return n.subscribe(e)})}function M3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ge(r))return Oi(r,null);if(_u(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Oi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ge(t[0])?t[0]:t,Oi(t,null).pipe(ft(function(s){return i.apply(void 0,s)}))}return Oi(t,null)}function Oi(t,e){return new ae(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=Vt(t[u]),h=!1;r.add(l.subscribe({next:function(f){h||(h=!0,o++),i[u]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!h)&&(o===n&&r.next(e?e.reduce(function(f,b,_){return f[b]=i[_],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Bp(t,e,r,n){return on(r)&&(n=r,r=void 0),n?Bp(t,e,r).pipe(ft(function(i){return Ge(i)?n.apply(void 0,i):n(i)})):new ae(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Fp(t,e,s,i,r)})}function Fp(t,e,r,n,i){var s;if(L3(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(N3(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(k3(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)Fp(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function k3(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function N3(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function L3(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Wp(t,e,r){return r?Wp(t,e).pipe(ft(function(n){return Ge(n)?r.apply(void 0,n):r(n)})):new ae(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!on(e))return function(){return e(i,s)}})}function P3(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||nr,i=a.scheduler}else n===void 0||et(n)?(o=t,s=nr,i=n):(o=t,s=n);return new ae(function(c){var u=o;if(i)return i.schedule(j3,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var h=void 0;try{h=s(u)}catch(f){c.error(f);return}if(c.next(h),c.closed)break;try{u=r(u)}catch(f){c.error(f);return}}while(!0)})}function j3(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function D3(t,e,r){return e===void 0&&(e=an),r===void 0&&(r=an),Ou(function(){return t()?e:r})}function un(t){return!Ge(t)&&t-parseFloat(t)+1>=0}function $3(t,e){return t===void 0&&(t=0),e===void 0&&(e=Je),(!un(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Je),new ae(function(r){return r.add(e.schedule(B3,t,{subscriber:r,counter:0,period:t})),r})}function B3(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Up(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return et(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ae?t[0]:Au(r)(di(t,n))}var Vp=new ae(It);function F3(){return Vp}function Oc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return an;var r=t[0],n=t.slice(1);return t.length===1&&Ge(r)?Oc.apply(void 0,r):new ae(function(i){var s=function(){return i.add(Oc.apply(void 0,n).subscribe(i))};return Vt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function W3(t,e){return e?new ae(function(r){var n=Object.keys(t),i=new _e;return i.add(e.schedule(U3,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ae(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function U3(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Hp(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function sr(t,e){return function(n){return n.lift(new V3(t,e))}}var V3=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new H3(e,this.predicate,this.thisArg))},t}(),H3=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ee);function z3(t,e,r){return[sr(e,r)(new ae(Hn(t))),sr(Hp(e,r))(new ae(Hn(t)))]}function zp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ge(t[0]))t=t[0];else return t[0];return di(t,void 0).lift(new q3)}var q3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new G3(e))},t}(),G3=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Ut(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Mr);function J3(t,e,r){return t===void 0&&(t=0),new ae(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Q3,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Q3(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function qp(t,e,r){t===void 0&&(t=0);var n=-1;return un(e)?n=Number(e)<1&&1||Number(e):et(e)&&(r=e),et(r)||(r=Je),new ae(function(i){var s=un(t)?t:+t-r.now();return r.schedule(Z3,s,{index:0,period:n,subscriber:i})})}function Z3(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Y3(t,e){return new ae(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Vt(i):an,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Gp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),di(t,void 0).lift(new Jp(r))}var Jp=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new K3(e,this.resultSelector))},t}(),K3=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ge(r)?n.push(new e4(r)):typeof r[ir]=="function"?n.push(new X3(r[ir]())):n.push(new t4(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee),X3=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),e4=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[ir]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),t4=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[ir]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return xe(this.observable,new Se(this))},e}(Ee);const r4=Object.freeze(Object.defineProperty({__proto__:null,Observable:ae,ConnectableObservable:Sp,GroupedObservable:Cc,observable:_n,Subject:Pe,BehaviorSubject:Ep,ReplaySubject:Ru,AsyncSubject:En,asap:Bi,asapScheduler:Ap,async:Je,asyncScheduler:Op,queue:Cp,queueScheduler:xp,animationFrame:i3,animationFrameScheduler:Tp,VirtualTimeScheduler:s3,VirtualAction:Mp,Scheduler:Rc,Subscription:_e,Subscriber:ee,Notification:Wt,get NotificationKind(){return Ic},pipe:xc,noop:It,identity:nr,isObservable:o3,ArgumentOutOfRangeError:cn,EmptyError:pi,ObjectUnsubscribedError:Zt,UnsubscriptionError:Fn,TimeoutError:kp,bindCallback:Np,bindNodeCallback:Lp,combineLatest:_3,concat:zn,defer:Ou,empty:Sn,forkJoin:M3,from:Vt,fromEvent:Bp,fromEventPattern:Wp,generate:P3,iif:D3,interval:$3,merge:Up,never:F3,of:Ls,onErrorResumeNext:Oc,pairs:W3,partition:z3,race:zp,range:J3,throwError:Cu,timer:qp,using:Y3,zip:Gp,scheduled:Dp,EMPTY:an,NEVER:Vp,config:st},Symbol.toStringTag,{value:"Module"})),Ps=Rr(r4);var js={};function Qp(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Qp(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Qf(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Qp(t))&&(n&&(n+=" "),n+=e);return n}const n4=Object.freeze(Object.defineProperty({__proto__:null,clsx:Qf,default:Qf},Symbol.toStringTag,{value:"Module"})),Ds=Rr(n4),bi=Rr(x0);var kt={},$s={};Object.defineProperty($s,"__esModule",{value:!0});$s.LIB_VERSION=void 0;$s.LIB_VERSION="3.6.6";var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.CloseIcon=void 0;const Zf=tt;function i4(t){return(0,Zf.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Zf.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Bs.CloseIcon=i4;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.QRCodeIcon=void 0;const Ct=tt;function s4(t){return(0,Ct.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ct.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Ct.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Ct.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Ct.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Ct.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Ct.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Ct.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Ct.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Ct.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Fs.QRCodeIcon=s4;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});const o4=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;ku.default=o4;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.StatusDotIcon=void 0;const Yf=tt;function a4(t){return(0,Yf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Yf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Ws.StatusDotIcon=a4;var Us={};function Zp(t){this.mode=Ke.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Zp.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Nt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Nt.prototype={addData:function(t){var e=new Zp(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Nt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=me.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=me.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=me.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=me.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=me.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Nt.PAD0=236;Nt.PAD1=17;Nt.createData=function(t,e,r){for(var n=Ot.getRSBlocks(t,e),i=new Yp,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),me.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Nt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Nt.PAD1,8);return Nt.createBytes(i,n)};Nt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var h=me.getErrorCorrectPolynomial(u),f=new Zr(s[a],h.getLength()-1),b=f.mod(h);o[a]=new Array(h.getLength()-1);for(var l=0;l<o[a].length;l++){var _=l+b.getLength()-o[a].length;o[a][l]=_>=0?b.get(_):0}}for(var O=0,l=0;l<e.length;l++)O+=e[l].totalCount;for(var R=new Array(O),E=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(R[E++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(R[E++]=o[a][l]);return R};var Ke={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Kt={L:1,M:0,Q:3,H:2},zt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},me={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;me.getBCHDigit(e)-me.getBCHDigit(me.G15)>=0;)e^=me.G15<<me.getBCHDigit(e)-me.getBCHDigit(me.G15);return(t<<10|e)^me.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;me.getBCHDigit(e)-me.getBCHDigit(me.G18)>=0;)e^=me.G18<<me.getBCHDigit(e)-me.getBCHDigit(me.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return me.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case zt.PATTERN000:return(e+r)%2==0;case zt.PATTERN001:return e%2==0;case zt.PATTERN010:return r%3==0;case zt.PATTERN011:return(e+r)%3==0;case zt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case zt.PATTERN101:return e*r%2+e*r%3==0;case zt.PATTERN110:return(e*r%2+e*r%3)%2==0;case zt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Zr([1],0),r=0;r<t;r++)e=e.multiply(new Zr([1,Le.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Ke.MODE_NUMBER:return 10;case Ke.MODE_ALPHA_NUM:return 9;case Ke.MODE_8BIT_BYTE:return 8;case Ke.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Ke.MODE_NUMBER:return 12;case Ke.MODE_ALPHA_NUM:return 11;case Ke.MODE_8BIT_BYTE:return 16;case Ke.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Ke.MODE_NUMBER:return 14;case Ke.MODE_ALPHA_NUM:return 13;case Ke.MODE_8BIT_BYTE:return 16;case Ke.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var h=Math.abs(100*l/e/e-50)/5;return r+=h*10,r}},Le={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Le.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Le.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var je=0;je<8;je++)Le.EXP_TABLE[je]=1<<je;for(var je=8;je<256;je++)Le.EXP_TABLE[je]=Le.EXP_TABLE[je-4]^Le.EXP_TABLE[je-5]^Le.EXP_TABLE[je-6]^Le.EXP_TABLE[je-8];for(var je=0;je<255;je++)Le.LOG_TABLE[Le.EXP_TABLE[je]]=je;function Zr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Zr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Le.gexp(Le.glog(this.get(r))+Le.glog(t.get(n)));return new Zr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Le.glog(this.get(0))-Le.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Le.gexp(Le.glog(t.get(n))+e);return new Zr(r,0).mod(t)}};function Ot(t,e){this.totalCount=t,this.dataCount=e}Ot.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ot.getRSBlocks=function(t,e){var r=Ot.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new Ot(a,c));return i};Ot.getRsBlockTable=function(t,e){switch(e){case Kt.L:return Ot.RS_BLOCK_TABLE[(t-1)*4+0];case Kt.M:return Ot.RS_BLOCK_TABLE[(t-1)*4+1];case Kt.Q:return Ot.RS_BLOCK_TABLE[(t-1)*4+2];case Kt.H:return Ot.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Yp(){this.buffer=[],this.length=0}Yp.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ec=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Kp(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),h=1,f=0,b=0,_=ec.length;b<=_;b++){var O=ec[b];if(!O)throw new Error("Content too long: expected "+f+" but got "+l);switch(u){case"L":f=O[0];break;case"M":f=O[1];break;case"Q":f=O[2];break;case"H":f=O[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=f)break;h++}if(h>ec.length)throw new Error("Content too long");return h}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Nt(o,a),this.qrcode.addData(s),this.qrcode.make()}Kp.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,b=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,_=typeof e.predefined<"u"?!!e.predefined:!1,O=_?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",R=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,E="",C="",I=0;I<c;I++)for(var N=0;N<c;N++){var L=r[N][I];if(L){var F=N*u+e.padding*u,J=I*l+e.padding*l;if(f){var G=F;F=J,J=G}if(h){var U=u+F,Y=l+J;F=Number.isInteger(F)?Number(F):F.toFixed(2),J=Number.isInteger(J)?Number(J):J.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),C+="M"+F+","+J+" V"+Y+" H"+U+" V"+J+" H"+F+" Z "}else _?E+=i+'<use x="'+F.toString()+'" y="'+J.toString()+'" href="#qrmodule" />'+s:E+=i+'<rect x="'+F.toString()+'" y="'+J.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(E=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+C+'" />');let ie="";if(this.options.image!==void 0&&this.options.image.svg){const $=o*this.options.image.width/100,M=a*this.options.image.height/100,V=o/2-$/2,H=a/2-M/2;ie+=`<svg x="${V}" y="${H}" width="${$}" height="${M}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ie+=this.options.image.svg+s,ie+="</svg>"}var K="";switch(t.container){case"svg":b&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,K+=O+R+E,K+=ie,K+="</svg>";break;case"svg-viewbox":b&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,K+=O+R+E,K+=ie,K+="</svg>";break;case"g":K+='<g width="'+o+'" height="'+a+'">'+s,K+=O+R+E,K+=ie,K+="</g>";break;default:K+=(O+R+E+ie).replace(/^\s+/,"");break}return K};var c4=Kp,u4=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Us,"__esModule",{value:!0});Us.QRCode=void 0;const l4=tt,Kf=bi,f4=u4(c4),h4=t=>{const[e,r]=(0,Kf.useState)("");return(0,Kf.useEffect)(()=>{var n,i;const s=new f4.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=ne.Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,l4.h)("img",{src:e,alt:"QR Code"}):null};Us.QRCode=h4;var Vs={},Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var d4=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.Spinner=void 0;const Ti=tt,p4=d4(Lu),b4=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Ti.h)("div",{class:"-cbwsdk-spinner"},(0,Ti.h)("style",null,p4.default),(0,Ti.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ti.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Vs.Spinner=b4;var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var xn=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kt,"__esModule",{value:!0});kt.CoinbaseAppSteps=kt.CoinbaseWalletSteps=kt.ConnectItem=kt.ConnectContent=void 0;const at=xn(Ds),te=tt,Xf=bi,g4=X,y4=$s,v4=Bs,m4=xn(Tu),w4=xn(Mu),Xp=Fs,_4=xn(ku),S4=xn(Nu),E4=Ws,x4=Us,C4=Vs,R4=xn(Pu),eh={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:w4.default,steps:t0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:m4.default,steps:r0}},I4=t=>{switch(t){case"coinbase-app":return _4.default;case"coinbase-wallet-app":default:return S4.default}},Tc=t=>t==="light"?"#FFFFFF":"#0A0B0D";function A4(t){const{theme:e}=t,[r,n]=(0,Xf.useState)("coinbase-wallet-app"),i=(0,Xf.useCallback)(u=>{n(u)},[]),s=(0,g4.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=eh[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,te.h)("div",{"data-testid":"connect-content",class:(0,at.default)("-cbwsdk-connect-content",e)},(0,te.h)("style",null,R4.default),(0,te.h)("div",{class:"-cbwsdk-connect-content-header"},(0,te.h)("h2",{class:(0,at.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,te.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,te.h)(v4.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,te.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,te.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,te.h)("div",null,Object.entries(eh).map(([u,l])=>(0,te.h)(e0,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,te.h)("div",{class:(0,at.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,te.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,te.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,te.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,te.h)(x4.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:I4(r),width:25,height:25}}),(0,te.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:y4.LIB_VERSION}),(0,te.h)("input",{type:"hidden",value:s})),(0,te.h)(a,{theme:e}),!t.isConnected&&(0,te.h)("div",{"data-testid":"connecting-spinner",class:(0,at.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,te.h)(C4.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,te.h)("p",null,"Connecting...")))))}kt.ConnectContent=A4;function e0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,te.h)("div",{onClick:s,class:(0,at.default)("-cbwsdk-connect-item",i,{selected:n})},(0,te.h)("div",null,(0,te.h)("img",{src:r,alt:t})),(0,te.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,te.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,te.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}kt.ConnectItem=e0;function t0({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,at.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,te.h)("li",{class:(0,at.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"Scan")," "),(0,te.h)("span",{class:(0,at.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(Xp.QRCodeIcon,{fill:Tc(t)})))))}kt.CoinbaseWalletSteps=t0;function r0({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,at.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,te.h)("li",{class:(0,at.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"More")),(0,te.h)("span",{class:(0,at.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(E4.StatusDotIcon,{fill:Tc(t)})),(0,te.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,te.h)("strong",null,"Scan")),(0,te.h)("span",{class:(0,at.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(Xp.QRCodeIcon,{fill:Tc(t)})))))}kt.CoinbaseAppSteps=r0;var Hs={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.ArrowLeftIcon=void 0;const th=tt;function O4(t){return(0,th.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,th.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}zs.ArrowLeftIcon=O4;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.LaptopIcon=void 0;const tc=tt;function T4(t){return(0,tc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,tc.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,tc.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}qs.LaptopIcon=T4;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.SafeIcon=void 0;const rh=tt;function M4(t){return(0,rh.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,rh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Gs.SafeIcon=M4;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var n0=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.TryExtensionContent=void 0;const cr=n0(Ds),Re=tt,rc=bi,k4=zs,N4=qs,L4=Gs,P4=n0(ju);function j4({theme:t}){const[e,r]=(0,rc.useState)(!1),n=(0,rc.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,rc.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Re.h)("div",{class:(0,cr.default)("-cbwsdk-try-extension",t)},(0,Re.h)("style",null,P4.default),(0,Re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Re.h)("h3",{class:(0,cr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Re.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Re.h)("button",{class:(0,cr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Re.h)("div",null,!e&&(0,Re.h)(k4.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Re.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Re.h)("span",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Re.h)(N4.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Re.h)("div",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Re.h)("span",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Re.h)(L4.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Re.h)("div",{class:(0,cr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Hs.TryExtensionContent=j4;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var i0=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});js.ConnectDialog=void 0;const nc=i0(Ds),ur=tt,ic=bi,D4=kt,$4=Hs,B4=i0(Du),F4=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,ic.useState)(!e),[s,o]=(0,ic.useState)(!e);(0,ic.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,ur.h)("div",{class:(0,nc.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,ur.h)("style",null,B4.default),(0,ur.h)("div",{class:(0,nc.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,ur.h)("div",{class:"-cbwsdk-connect-dialog"},(0,ur.h)("div",{class:(0,nc.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,ur.h)(D4.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,ur.h)($4.TryExtensionContent,{theme:a}))))};js.ConnectDialog=F4;Object.defineProperty(Ns,"__esModule",{value:!0});Ns.LinkFlow=void 0;const sc=tt,nh=Ps,W4=js;class U4{constructor(e){this.extensionUI$=new nh.BehaviorSubject({}),this.subscriptions=new nh.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,sc.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,sc.render)((0,sc.h)(W4.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ns.LinkFlow=U4;var s0={},$u={};Object.defineProperty($u,"__esModule",{value:!0});$u.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=Z&&Z.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Ds),n=tt,i=bi,s=e($u),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(h){switch(h){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const b=this.nextItemKey++;return this.items.set(b,f),this.render(),()=>{this.items.delete(b),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,b])=>(0,n.h)(t.SnackbarInstance,Object.assign({},b,{key:f}))))),this.root)}}t.Snackbar=c;const u=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=u;const l=({autoExpand:h,message:f,menuItems:b,appSrc:_})=>{const[O,R]=(0,i.useState)(!0),[E,C]=(0,i.useState)(h!=null?h:!1);(0,i.useEffect)(()=>{const N=[window.setTimeout(()=>{R(!1)},1),window.setTimeout(()=>{C(!0)},1e4)];return()=>{N.forEach(window.clearTimeout)}});const I=()=>{C(!E)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",O&&"-cbwsdk-snackbar-instance-hidden",E&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:I},(0,n.h)("img",{src:a(_),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!E&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),b&&b.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},b.map((N,L)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",N.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:N.onClick,key:L},(0,n.h)("svg",{width:N.svgWidth,height:N.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":N.defaultFillRule,"clip-rule":N.defaultClipRule,d:N.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",N.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},N.info)))))};t.SnackbarInstance=l})(s0);var Js={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var V4=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});Js.injectCssReset=void 0;const H4=V4(Bu);function z4(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(H4.default)),document.documentElement.appendChild(t)}Js.injectCssReset=z4;Object.defineProperty(ks,"__esModule",{value:!0});ks.WalletSDKUI=void 0;const q4=Ns,G4=s0,J4=Js;class Q4{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new G4.Snackbar({darkMode:e.darkMode}),this.linkFlow=new q4.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,J4.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}ks.WalletSDKUI=Q4;var Qs={},Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});var Hr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Hr||(Hr={}));function o0(t,e,r){if(!r||typeof r.value!==Hr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Hr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Hr.boolTrue,writable:Hr.boolTrue}),n}}}Zs.bind=o0;Zs.default=o0;function a0(t){return function(r){return r.lift(new Z4(t))}}var Z4=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Y4(e,this.durationSelector))},t}(),Y4=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=xe(n,new Se(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Ee);function K4(t,e){return e===void 0&&(e=Je),a0(function(){return qp(t,e)})}function X4(t){return function(r){return r.lift(new e5(t))}}var e5=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new t5(e,this.closingNotifier))},t}(),t5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(xe(n,new Se(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Ee);function r5(t,e){return e===void 0&&(e=null),function(n){return n.lift(new n5(t,e))}}var n5=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=i5:this.subscriberClass=s5}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),i5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(ee),s5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(ee);function o5(t){var e=arguments.length,r=Je;et(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new a5(t,n,i,r))}}var a5=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new u5(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),c5=function(){function t(){this.buffer=[]}return t}(),u5=function(t){W.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(ih,n,u))}else{var l={subscriber:a,context:c},h={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(c0,n,l)),a.add(o.schedule(l5,i,h))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(ih,i,s))}},e.prototype.openContext=function(){var r=new c5;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(ee);function ih(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function l5(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(c0,r,{subscriber:n,context:s})),o.schedule(t,e))}function c0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function f5(t,e){return function(n){return n.lift(new h5(t,e))}}var h5=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new d5(e,this.openings,this.closingSelector))},t}(),d5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Ut(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new _e,o={buffer:i,subscription:s};n.push(o);var a=Ut(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Mr);function p5(t){return function(e){return e.lift(new b5(t))}}var b5=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new g5(e,this.closingSelector))},t}(),g5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new _e,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(xe(i,new Se(this))),this.subscribing=!1},e}(Ee);function y5(t){return function(r){var n=new v5(t),i=r.lift(n);return n.caught=i}}var v5=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new m5(e,this.selector,this.caught))},t}(),m5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Se(this);this.add(i);var s=xe(n,i);s!==i&&this.add(s)}},e}(Ee);function w5(t){return function(e){return e.lift(new Iu(t))}}function _5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ge(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Vt([n].concat(t)),new Iu(r))}}function S5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(zn.apply(void 0,[r].concat(t)))}}function u0(t,e){return xr(t,e,1)}function E5(t,e){return u0(function(){return t},e)}function x5(t){return function(e){return e.lift(new C5(t,e))}}var C5=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new R5(e,this.predicate,this.source))},t}(),R5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ee);function I5(t){return function(e){return e.lift(new A5(t))}}var A5=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new O5(e,this.durationSelector))},t}(),O5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=xe(n,new Se(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Ee);function T5(t,e){return e===void 0&&(e=Je),function(r){return r.lift(new M5(t,e))}}var M5=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new k5(e,this.dueTime,this.scheduler))},t}(),k5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(N5,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(ee);function N5(t){t.debouncedNext()}function gi(t){return t===void 0&&(t=null),function(e){return e.lift(new L5(t))}}var L5=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new P5(e,this.defaultValue))},t}(),P5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ee);function l0(t){return t instanceof Date&&!isNaN(+t)}function j5(t,e){e===void 0&&(e=Je);var r=l0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new D5(n,e))}}var D5=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new $5(e,this.delay,this.scheduler))},t}(),$5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new B5(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Wt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Wt.createComplete()),this.unsubscribe()},e}(ee),B5=function(){function t(e,r){this.time=e,this.notification=r}return t}();function F5(t,e){return e?function(r){return new U5(r,e).lift(new sh(t))}:function(r){return r.lift(new sh(t))}}var sh=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new W5(e,this.delayDurationSelector))},t}(),W5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Ut(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Mr),U5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new V5(r,this.source))},e}(ae),V5=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ee);function H5(){return function(e){return e.lift(new z5)}}var z5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new q5(e))},t}(),q5=function(t){W.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(ee);function G5(t,e){return function(r){return r.lift(new J5(t,e))}}var J5=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new Q5(e,this.keySelector,this.flushes))},t}(),Q5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(xe(i,new Se(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Ee);function f0(t,e){return function(r){return r.lift(new Z5(t,e))}}var Z5=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Y5(e,this.compare,this.keySelector))},t}(),Y5=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(ee);function K5(t,e){return f0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Ys(t){return t===void 0&&(t=tx),function(e){return e.lift(new X5(t))}}var X5=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new ex(e,this.errorFactory))},t}(),ex=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(ee);function tx(){return new pi}function Fu(t){return function(e){return t===0?Sn():e.lift(new rx(t))}}var rx=function(){function t(e){if(this.total=e,this.total<0)throw new cn}return t.prototype.call=function(e,r){return r.subscribe(new nx(e,this.total))},t}(),nx=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(ee);function ix(t,e){if(t<0)throw new cn;var r=arguments.length>=2;return function(n){return n.pipe(sr(function(i,s){return s===t}),Fu(1),r?gi(e):Ys(function(){return new cn}))}}function sx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return zn(r,Ls.apply(void 0,t))}}function ox(t,e){return function(r){return r.lift(new ax(t,e,r))}}var ax=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new cx(e,this.predicate,this.thisArg,this.source))},t}(),cx=function(t){W.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function ux(){return function(t){return t.lift(new lx)}}var lx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new fx(e))},t}(),fx=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(xe(r,new Se(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ee);function h0(t,e){return e?function(r){return r.pipe(h0(function(n,i){return Vt(t(n,i)).pipe(ft(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new hx(t))}}var hx=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new dx(e,this.project))},t}(),dx=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Se(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ee);function px(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new bx(t,e,r))}}var bx=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new gx(e,this.project,this.concurrent,this.scheduler))},t}(),gx=function(t){W.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(xe(r,new Se(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Ee);function yx(t){return function(e){return e.lift(new vx(t))}}var vx=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new mx(e,this.callback))},t}(),mx=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new _e(n)),i}return e}(ee);function wx(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new d0(t,r,!1,e))}}var d0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new _x(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),_x=function(t){W.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ee);function Sx(t,e){return function(r){return r.lift(new d0(t,r,!0,e))}}function Ex(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?sr(function(i,s){return t(i,s,n)}):nr,Fu(1),r?gi(e):Ys(function(){return new pi}))}}function xx(){return function(e){return e.lift(new Cx)}}var Cx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Rx(e))},t}(),Rx=function(t){W.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(ee);function Ix(){return function(t){return t.lift(new Ax)}}var Ax=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ox(e))},t}(),Ox=function(t){W.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function Zi(t){return function(r){return t===0?Sn():r.lift(new Tx(t))}}var Tx=function(){function t(e){if(this.total=e,this.total<0)throw new cn}return t.prototype.call=function(e,r){return r.subscribe(new Mx(e,this.total))},t}(),Mx=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(ee);function kx(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?sr(function(i,s){return t(i,s,n)}):nr,Zi(1),r?gi(e):Ys(function(){return new pi}))}}function Nx(t){return function(e){return e.lift(new Lx(t))}}var Lx=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Px(e,this.value))},t}(),Px=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(ee);function jx(){return function(e){return e.lift(new Dx)}}var Dx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new $x(e))},t}(),$x=function(t){W.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Wt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Wt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Wt.createComplete()),r.complete()},e}(ee);function Yi(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Bx(t,e,r))}}var Bx=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Fx(e,this.accumulator,this.seed,this.hasSeed))},t}(),Fx=function(t){W.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(ee);function Ks(t,e){return arguments.length>=2?function(n){return xc(Yi(t,e),Zi(1),gi(e))(n)}:function(n){return xc(Yi(function(i,s,o){return t(i,s,o+1)}),Zi(1))(n)}}function Wx(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Ks(e)}function Ux(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Up.apply(void 0,[r].concat(t)))}}function Vx(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?xr(function(){return t},e,r):(typeof e=="number"&&(r=e),xr(function(){return t},r))}function Hx(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new zx(t,e,r))}}var zx=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new qx(e,this.accumulator,this.seed,this.concurrent))},t}(),qx=function(t){W.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Se(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Ee);function Gx(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Ks(e)}function Cr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Jx(i,e));var s=Object.create(n,jE);return s.source=n,s.subjectFactory=i,s}}var Jx=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function Qx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ge(t[0])&&(t=t[0]),function(r){return r.lift(new Zx(t))}}var Zx=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Yx(e,this.nextSources))},t}(),Yx=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Se(this),i=this.destination;i.add(n);var s=xe(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Ee);function Kx(){return function(t){return t.lift(new Xx)}}var Xx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new eC(e))},t}(),eC=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(ee);function tC(t,e){return function(r){return[sr(t,e)(r),sr(Hp(t,e))(r)]}}function rC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return ft(nC(t,r))(n)}}function nC(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function iC(t){return t?Cr(function(){return new Pe},t):Cr(new Pe)}function sC(t){return function(e){return Cr(new Ep(t))(e)}}function oC(){return function(t){return Cr(new En)(t)}}function aC(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Ru(t,e,n);return function(o){return Cr(function(){return s},i)(o)}}function cC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ge(t[0])&&(t=t[0]),n.lift.call(zp.apply(void 0,[n].concat(t)))}}function uC(t){return t===void 0&&(t=-1),function(e){return t===0?Sn():t<0?e.lift(new oh(-1,e)):e.lift(new oh(t-1,e))}}var oh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new lC(e,this.count,this.source))},t}(),lC=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function fC(t){return function(e){return e.lift(new hC(t))}}var hC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new dC(e,this.notifier,r))},t}(),dC=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Pe;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=xe(r,new Se(this))},e}(Ee);function pC(t){return t===void 0&&(t=-1),function(e){return e.lift(new bC(t,e))}}var bC=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new gC(e,this.count,this.source))},t}(),gC=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function yC(t){return function(e){return e.lift(new vC(t,e))}}var vC=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new mC(e,this.notifier,this.source))},t}(),mC=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Pe;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=xe(i,new Se(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Ee);function wC(t){return function(e){return e.lift(new _C(t))}}var _C=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new SC(e),i=r.subscribe(n);return i.add(xe(this.notifier,new Se(n))),i},t}(),SC=function(t){W.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Ee);function EC(t,e){return e===void 0&&(e=Je),function(r){return r.lift(new xC(t,e))}}var xC=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new CC(e,this.period,this.scheduler))},t}(),CC=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(RC,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ee);function RC(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function IC(t,e){return function(r){return r.lift(new AC(t,e))}}var AC=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new OC(e,this.compareTo,this.comparator))},t}(),OC=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new TC(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ee),TC=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ee);function MC(){return new Pe}function kC(){return function(t){return Eu()(Cr(MC)(t))}}function NC(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(LC(n))}}function LC(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,h=!1;return function(b){c++;var _;!a||l?(l=!1,a=new Ru(r,i,o),_=a.subscribe(this),u=b.subscribe({next:function(O){a.next(O)},error:function(O){l=!0,a.error(O)},complete:function(){h=!0,u=void 0,a.complete()}}),h&&(u=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,u&&!h&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function PC(t){return function(e){return e.lift(new jC(t,e))}}var jC=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new DC(e,this.predicate,this.source))},t}(),DC=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new pi)},e}(ee);function $C(t){return function(e){return e.lift(new BC(t))}}var BC=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new FC(e,this.total))},t}(),FC=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(ee);function WC(t){return function(e){return e.lift(new UC(t))}}var UC=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new cn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new ee(e)):r.subscribe(new VC(e,this._skipCount))},t}(),VC=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(ee);function HC(t){return function(e){return e.lift(new zC(t))}}var zC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new qC(e,this.notifier))},t}(),qC=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Se(i);i.add(s),i.innerSubscription=s;var o=xe(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Ee);function GC(t){return function(e){return e.lift(new JC(t))}}var JC=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new QC(e,this.predicate))},t}(),QC=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(ee);function ZC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return et(r)?(t.pop(),function(n){return zn(t,n,r)}):function(n){return zn(t,n)}}var YC=function(t){W.exports.__extends(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Bi);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!un(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Bi),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Bi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ae);function KC(t,e){return e===void 0&&(e=0),function(n){return n.lift(new XC(t,e))}}var XC=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new YC(r,this.delay,this.scheduler).subscribe(e)},t}();function qn(t,e){return typeof e=="function"?function(r){return r.pipe(qn(function(n,i){return Vt(t(n,i)).pipe(ft(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new eR(t))}}var eR=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new tR(e,this.project))},t}(),tR=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Se(this),s=this.destination;s.add(i),this.innerSubscription=xe(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Ee);function rR(){return qn(nr)}function nR(t,e){return e?qn(function(){return t},e):qn(function(){return t})}function iR(t){return function(e){return e.lift(new sR(t))}}var sR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new oR(e),i=xe(this.notifier,new Se(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),oR=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Ee);function aR(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new cR(t,e))}}var cR=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new uR(e,this.predicate,this.inclusive))},t}(),uR=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(ee);function lR(t,e,r){return function(i){return i.lift(new fR(t,e,r))}}var fR=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new hR(e,this.nextOrObserver,this.error,this.complete))},t}(),hR=function(t){W.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=It,o._tapError=It,o._tapComplete=It,o._tapError=i||It,o._tapComplete=s||It,on(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||It,o._tapError=n.error||It,o._tapComplete=n.complete||It),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(ee),p0={leading:!0,trailing:!1};function dR(t,e){return e===void 0&&(e=p0),function(r){return r.lift(new pR(t,!!e.leading,!!e.trailing))}}var pR=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new bR(e,this.durationSelector,this.leading,this.trailing))},t}(),bR=function(t){W.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=xe(n,new Se(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Ee);function gR(t,e,r){return e===void 0&&(e=Je),r===void 0&&(r=p0),function(n){return n.lift(new yR(t,e,r.leading,r.trailing))}}var yR=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new vR(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),vR=function(t){W.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(mR,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(ee);function mR(t){var e=t.subscriber;e.clearThrottle()}function wR(t){return t===void 0&&(t=Je),function(e){return Ou(function(){return e.pipe(Yi(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ft(function(r){var n=r.current,i=r.last,s=r.value;return new _R(s,n-i)}))})}}var _R=function(){function t(e,r){this.value=e,this.interval=r}return t}();function b0(t,e,r){return r===void 0&&(r=Je),function(n){var i=l0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new SR(s,i,e,r))}}var SR=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new ER(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),ER=function(t){W.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(xe(n,new Se(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Ee);function xR(t,e){return e===void 0&&(e=Je),b0(t,Cu(new kp),e)}function CR(t){return t===void 0&&(t=Je),ft(function(e){return new RR(e,t.now())})}var RR=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function IR(t,e,r){return r===0?[e]:(t.push(e),t)}function AR(){return Ks(IR,[])}function OR(t){return function(r){return r.lift(new TR(t))}}var TR=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new MR(e),i=r.subscribe(n);return i.closed||n.add(xe(this.windowBoundaries,new Se(n))),i},t}(),MR=function(t){W.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Pe,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Pe;n.next(i)},e}(Ee);function kR(t,e){return e===void 0&&(e=0),function(n){return n.lift(new NR(t,e))}}var NR=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new LR(e,this.windowSize,this.startWindowEvery))},t}(),LR=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Pe],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new Pe;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ee);function PR(t){var e=Je,r=null,n=Number.POSITIVE_INFINITY;return et(arguments[3])&&(e=arguments[3]),et(arguments[2])?e=arguments[2]:un(arguments[2])&&(n=Number(arguments[2])),et(arguments[1])?e=arguments[1]:un(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new jR(t,r,n,e))}}var jR=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new $R(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),DR=function(t){W.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Pe),$R=function(t){W.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(g0,n,u)),a.add(o.schedule(FR,i,l))}else{var h={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(BR,n,h))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new DR;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(ee);function BR(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function FR(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(g0,e,c),o.add(a.subscription),o.schedule(t,i)}function g0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function WR(t,e){return function(r){return r.lift(new UR(t,e))}}var UR=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new VR(e,this.openings,this.closingSelector))},t}(),VR=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Ut(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(b){return this.error(b)}var u=new Pe,l=new _e,h={window:u,subscription:l};this.contexts.push(h);var f=Ut(this,a,h);f.closed?this.closeWindow(this.contexts.length-1):(f.context=h,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Mr);function HR(t){return function(r){return r.lift(new zR(t))}}var zR=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new qR(e,this.closingSelector))},t}(),qR=function(t){W.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Pe;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Ut(this,s))},e}(Mr);function GR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new JR(i,n))}}var JR=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new QR(e,this.observables,this.project))},t}(),QR=function(t){W.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Ut(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Mr);function ZR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Gp.apply(void 0,[n].concat(t)))}}function YR(t){return function(e){return e.lift(new Jp(t))}}const KR=Object.freeze(Object.defineProperty({__proto__:null,audit:a0,auditTime:K4,buffer:X4,bufferCount:r5,bufferTime:o5,bufferToggle:f5,bufferWhen:p5,catchError:y5,combineAll:w5,combineLatest:_5,concat:S5,concatAll:$p,concatMap:u0,concatMapTo:E5,count:x5,debounce:I5,debounceTime:T5,defaultIfEmpty:gi,delay:j5,delayWhen:F5,dematerialize:H5,distinct:G5,distinctUntilChanged:f0,distinctUntilKeyChanged:K5,elementAt:ix,endWith:sx,every:ox,exhaust:ux,exhaustMap:h0,expand:px,filter:sr,finalize:yx,find:wx,findIndex:Sx,first:Ex,groupBy:$E,ignoreElements:xx,isEmpty:Ix,last:kx,map:ft,mapTo:Nx,materialize:jx,max:Wx,merge:Ux,mergeAll:Au,mergeMap:xr,flatMap:T3,mergeMapTo:Vx,mergeScan:Hx,min:Gx,multicast:Cr,observeOn:JE,onErrorResumeNext:Qx,pairwise:Kx,partition:tC,pluck:rC,publish:iC,publishBehavior:sC,publishLast:oC,publishReplay:aC,race:cC,reduce:Ks,repeat:uC,repeatWhen:fC,retry:pC,retryWhen:yC,refCount:Eu,sample:wC,sampleTime:EC,scan:Yi,sequenceEqual:IC,share:kC,shareReplay:NC,single:PC,skip:$C,skipLast:WC,skipUntil:HC,skipWhile:GC,startWith:ZC,subscribeOn:KC,switchAll:rR,switchMap:qn,switchMapTo:nR,take:Fu,takeLast:Zi,takeUntil:iR,takeWhile:aR,tap:lR,throttle:dR,throttleTime:gR,throwIfEmpty:Ys,timeInterval:wR,timeout:xR,timeoutWith:b0,timestamp:CR,toArray:AR,window:OR,windowCount:kR,windowTime:PR,windowToggle:WR,windowWhen:HR,withLatestFrom:GR,zip:ZR,zipAll:YR},Symbol.toStringTag,{value:"Module"})),Wu=Rr(KR);var Xs={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.ClientMessagePublishEvent=ot.ClientMessageSetSessionConfig=ot.ClientMessageGetSessionConfig=ot.ClientMessageIsLinked=ot.ClientMessageHostSession=void 0;function XR(t){return Object.assign({type:"HostSession"},t)}ot.ClientMessageHostSession=XR;function eI(t){return Object.assign({type:"IsLinked"},t)}ot.ClientMessageIsLinked=eI;function tI(t){return Object.assign({type:"GetSessionConfig"},t)}ot.ClientMessageGetSessionConfig=tI;function rI(t){return Object.assign({type:"SetSessionConfig"},t)}ot.ClientMessageSetSessionConfig=rI;function nI(t){return Object.assign({type:"PublishEvent"},t)}ot.ClientMessagePublishEvent=nI;var y0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ps,r=Wu;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(y0);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.isServerMessageFail=void 0;function iI(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}eo.isServerMessageFail=iI;Object.defineProperty(Xs,"__esModule",{value:!0});Xs.WalletSDKConnection=void 0;const pt=Ps,fe=Wu,kn=gn,Br=ei,Nn=ot,Ln=bn,Mi=y0,oc=eo,ah=1e4,sI=6e4;class oI{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new pt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Br.IntNumber)(1),this.connectedSubject=new pt.BehaviorSubject(!1),this.linkedSubject=new pt.BehaviorSubject(!1),this.sessionConfigSubject=new pt.ReplaySubject(1);const o=new Mi.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,fe.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Ln.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:kn.Session.hash(e)})}),(0,fe.skip)(1),(0,fe.filter)(a=>a===Mi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,fe.delay)(5e3),(0,fe.filter)(a=>!this.destroyed),(0,fe.flatMap)(a=>o.connect()),(0,fe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(2),(0,fe.switchMap)(a=>(0,pt.iif)(()=>a===Mi.ConnectionState.CONNECTED,this.authenticate().pipe((0,fe.tap)(c=>this.sendIsLinked()),(0,fe.tap)(c=>this.sendGetSessionConfig()),(0,fe.map)(c=>!0)),(0,pt.of)(!1))),(0,fe.distinctUntilChanged)(),(0,fe.catchError)(a=>(0,pt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(1),(0,fe.switchMap)(a=>(0,pt.iif)(()=>a===Mi.ConnectionState.CONNECTED,(0,pt.timer)(0,ah)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,fe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Ln.EVENTS.LINKED,{sessionIdHash:kn.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Ln.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:kn.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Ln.EVENTS.STARTED_CONNECTING,{sessionIdHash:kn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Ln.EVENTS.DISCONNECTED,{sessionIdHash:kn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,fe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,fe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Nn.ClientMessageSetSessionConfig)({id:(0,Br.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,fe.flatMap)(i=>this.makeRequest(n)),(0,fe.map)(i=>{if((0,oc.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Nn.ClientMessagePublishEvent)({id:(0,Br.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,fe.flatMap)(s=>this.makeRequest(i)),(0,fe.map)(s=>{if((0,oc.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>ah*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=sI){const n=e.id;try{this.sendData(e)}catch(i){return(0,pt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,fe.timeoutWith)(r,(0,pt.throwError)(new Error(`request ${n} timed out`))),(0,fe.filter)(i=>i.id===n),(0,fe.take)(1))}authenticate(){const e=(0,Nn.ClientMessageHostSession)({id:(0,Br.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,fe.map)(r=>{if((0,oc.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Nn.ClientMessageIsLinked)({id:(0,Br.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Nn.ClientMessageGetSessionConfig)({id:(0,Br.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Xs.WalletSDKConnection=oI;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.WalletUIError=void 0;class Gn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}to.WalletUIError=Gn;Gn.UserRejectedRequest=new Gn("User rejected request");Gn.SwitchEthereumChainUnsupportedChainId=new Gn("Unsupported chainId",4902);var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.decrypt=ln.encrypt=void 0;const Ki=X;async function aI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Ki.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),h=new Uint8Array([...r,...u,...l]);return(0,Ki.uint8ArrayToHex)(h)}ln.encrypt=aI;function cI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Ki.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Ki.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(l,i,u),f=new TextDecoder;r(f.decode(h))}catch(h){n(h)}})()})}ln.decrypt=cI;var Uu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Uu);var ro={},no={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(no);Object.defineProperty(ro,"__esModule",{value:!0});ro.Web3RequestCanceledMessage=void 0;const uI=no;function lI(t){return{type:uI.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ro.Web3RequestCanceledMessage=lI;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.Web3RequestMessage=void 0;const fI=no;function hI(t){return Object.assign({type:fI.RelayMessageType.WEB3_REQUEST},t)}io.Web3RequestMessage=hI;var ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.EthereumAddressFromSignedMessageResponse=ve.SubmitEthereumTransactionResponse=ve.SignEthereumTransactionResponse=ve.SignEthereumMessageResponse=ve.isRequestEthereumAccountsResponse=ve.SelectProviderResponse=ve.WatchAssetReponse=ve.RequestEthereumAccountsResponse=ve.SwitchEthereumChainResponse=ve.AddEthereumChainResponse=ve.ErrorResponse=void 0;const Pt=Uu;function dI(t,e,r){return{method:t,errorMessage:e,errorCode:r}}ve.ErrorResponse=dI;function pI(t){return{method:Pt.Web3Method.addEthereumChain,result:t}}ve.AddEthereumChainResponse=pI;function bI(t){return{method:Pt.Web3Method.switchEthereumChain,result:t}}ve.SwitchEthereumChainResponse=bI;function gI(t){return{method:Pt.Web3Method.requestEthereumAccounts,result:t}}ve.RequestEthereumAccountsResponse=gI;function yI(t){return{method:Pt.Web3Method.watchAsset,result:t}}ve.WatchAssetReponse=yI;function vI(t){return{method:Pt.Web3Method.selectProvider,result:t}}ve.SelectProviderResponse=vI;function mI(t){return t&&t.method===Pt.Web3Method.requestEthereumAccounts}ve.isRequestEthereumAccountsResponse=mI;function wI(t){return{method:Pt.Web3Method.signEthereumMessage,result:t}}ve.SignEthereumMessageResponse=wI;function _I(t){return{method:Pt.Web3Method.signEthereumTransaction,result:t}}ve.SignEthereumTransactionResponse=_I;function SI(t){return{method:Pt.Web3Method.submitEthereumTransaction,result:t}}ve.SubmitEthereumTransactionResponse=SI;function EI(t){return{method:Pt.Web3Method.ethereumAddressFromSignedMessage,result:t}}ve.EthereumAddressFromSignedMessageResponse=EI;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.isWeb3ResponseMessage=fn.Web3ResponseMessage=void 0;const v0=no;function xI(t){return Object.assign({type:v0.RelayMessageType.WEB3_RESPONSE},t)}fn.Web3ResponseMessage=xI;function CI(t){return t&&t.type===v0.RelayMessageType.WEB3_RESPONSE}fn.isWeb3ResponseMessage=CI;var RI=Z&&Z.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),II=Z&&Z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),m0=Z&&Z.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},AI=Z&&Z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RI(e,t,r);return II(e,t),e},OI=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.WalletSDKRelay=void 0;const w0=OI(Zs),ch=ps,lr=Ps,Ie=Wu,We=bn,TI=Xs,ac=to,MI=ei,ye=X,qt=AI(ln),Gt=gn,ki=mt,Te=Uu,kI=ro,NI=io,Ye=ve,He=fn;class vt extends ki.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new lr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new lr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Gt.Session.load(this.storage)||new Gt.Session(this.storage).save(),r=new TI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ie.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ie.skip)(1),(0,Ie.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(ki.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(We.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ie.mergeMap)(i=>qt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(ki.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ie.mergeMap)(i=>qt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(ki.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ie.mergeMap)(i=>(0,lr.zip)(qt.decrypt(i.metadata.ChainId,e.secret),qt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ie.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ie.mergeMap)(i=>qt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),vt.accountRequestCallbackIds.size>0&&(Array.from(vt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,He.Web3ResponseMessage)({id:s,response:(0,Ye.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),vt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ie.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Ie.mergeMap)(i=>qt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ie.timeout)(1e3),(0,Ie.catchError)(e=>(0,lr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(We.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(We.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Gt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(We.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Gt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new lr.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(We.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Te.Web3Method.signEthereumMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Te.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ye.hexStringFromBuffer)(e,!0),signature:(0,ye.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Te.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Te.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ye.bigIntStringFromBN)(e.weiValue),data:(0,ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ye.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ye.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Te.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ye.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Te.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ye.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Te.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,NI.Web3RequestMessage)({id:e,request:r}),s=Gt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(We.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Gt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(We.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Gt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,kI.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new lr.Observable(s=>{qt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Ie.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,lr.from)(qt.decrypt(e.data,this.session.secret)).pipe((0,Ie.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,He.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(We.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(We.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ye.isRequestEthereumAccountsResponse)(n)){vt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),vt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:e,response:(0,Ye.ErrorResponse)(r,(n!=null?n:ac.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Te.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ye.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,ye.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:r,response:(0,Ye.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=ch.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}vt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Te.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:n,response:(0,Ye.SelectProviderResponse)(MI.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:n,response:(0,Ye.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Te.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,ye.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const h=new Promise((f,b)=>{this.relayEventManager.callbacks.set(u,R=>{if(c==null||c(),R.errorMessage)return b(new Error(R.errorMessage));f(R)});const _=R=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:u,response:(0,Ye.WatchAssetReponse)(!1)}))},O=()=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:u,response:(0,Ye.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:O,onCancel:_,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:h}}addEthereumChain(e,r,n,i,s,o){const a={method:Te.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,ye.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,b)=>{this.relayEventManager.callbacks.set(u,R=>{if(c==null||c(),R.errorMessage)return b(new Error(R.errorMessage));f(R)});const _=R=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:u,response:(0,Ye.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},O=R=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:u,response:(0,Ye.AddEthereumChainResponse)({isApproved:!0,rpcUrl:R})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:_,onApprove:O,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Te.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ye.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,h=>{if(h.errorMessage&&h.errorCode)return c(ch.ethErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(h.errorMessage)return c(new Error(h.errorMessage));a(h)});const u=h=>{if(typeof h=="number"){const f=h;this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i,response:(0,Ye.ErrorResponse)(Te.Web3Method.switchEthereumChain,ac.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else h instanceof ac.WalletUIError?this.handleErrorResponse(i,Te.Web3Method.switchEthereumChain,h,h.errorCode):this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i,response:(0,Ye.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=h=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i,response:(0,Ye.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:h})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Gt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Te.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Te.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Te.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Te.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}vt.accountRequestCallbackIds=new Set;m0([w0.default],vt.prototype,"resetAndReload",null);m0([w0.default],vt.prototype,"handleIncomingEvent",null);Qs.WalletSDKRelay=vt;var so={};Object.defineProperty(so,"__esModule",{value:!0});so.WalletSDKRelayEventManager=void 0;const LI=X;class PI{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,LI.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}so.WalletSDKRelayEventManager=PI;const jI="@coinbase/wallet-sdk",DI="3.6.6",$I="Coinbase Wallet JavaScript SDK",BI=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],FI="dist/index.js",WI="dist/index.d.ts",UI="https://github.com/coinbase/coinbase-wallet-sdk.git",VI="Coinbase, Inc.",HI="Apache-2.0",zI={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},qI={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},GI={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},JI={node:">= 10.0.0"},QI={name:jI,version:DI,description:$I,keywords:BI,main:FI,types:WI,repository:UI,author:VI,license:HI,scripts:zI,dependencies:qI,devDependencies:GI,engines:JI};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.CoinbaseWalletSDK=void 0;const ZI=hs,YI=ds,KI=Xr,XI=ks,eA=Qs,tA=so,rA=X,nA={}.LINK_API_URL||"https://www.walletlink.org",_0={}.SDK_VERSION||QI.version||"unknown";class oo{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||nA;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new XI.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new YI.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",oo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new tA.WalletSDKRelayEventManager,this._relay=new eA.WalletSDKRelay({linkAPIUrl:s,version:_0,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new KI.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,rA.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,ZI.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Wn.CoinbaseWalletSDK=oo;oo.VERSION=_0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Wn,r=Xr;var n=Wn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Xr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Wc);const iA=S0(Wc),cA=C0({__proto__:null,default:iA},[Wc]);export{cA as i};
